(this["webpackJsonpsnek-front"]=this["webpackJsonpsnek-front"]||[]).push([[0],{250:function(e,t,n){e.exports=n(557)},258:function(e,t,n){},442:function(e,t,n){},443:function(e,t,n){},444:function(e,t,n){},445:function(e,t,n){},549:function(e,t,n){},550:function(e,t,n){},551:function(e,t,n){},552:function(e,t,n){},556:function(e,t,n){},557:function(e,t,n){"use strict";n.r(t);var a={};n.r(a),n.d(a,"exec",(function(){return Pe})),n.d(a,"fill",(function(){return ze}));var r=n(1),o=n.n(r),s=n(21),i=n.n(s),c=(n(255),n(256),n(257),n(258),n(259),n(37)),l=n(60),u=n(52),m=n(18),p=n(36),d=n(9),f=n.n(d),h=n(11),g=n(12),E=n(16),b=n(15),v=n(17),N=n(43),y=n(42),T=n(4),O=(n(442),function(e){function t(){var e,n;Object(h.a)(this,t);for(var a=arguments.length,r=new Array(a),o=0;o<a;o++)r[o]=arguments[o];return(n=Object(E.a)(this,(e=Object(b.a)(t)).call.apply(e,[this].concat(r)))).state={activeItemInnerPills:0,activeSubItem:0,activeHorizontalItem:0},n.toggleOuterPills=function(e){return function(t){n.state.activeItemInnerPills!==e&&n.setState({activeItemInnerPills:e})}},n.toggleSub=function(e){return function(t){n.state.activeSubItem!==e&&n.setState({activeSubItem:e})}},n.toggleHorizontal=function(e){return function(t){n.state.activeHorizontalItem!==e&&n.setState({activeHorizontalItem:e})}},n}return Object(v.a)(t,e),Object(g.a)(t,[{key:"render",value:function(){var e=this;return this.props.vertical?o.a.createElement(T.C,{id:"tabcontainer"},o.a.createElement(T.j,{md:"3"},o.a.createElement(T.s,{pills:!0,color:"primary",className:"flex-column"},this.props.settings.map((function(t,n){return o.a.createElement(T.t,{key:n},o.a.createElement(T.u,{to:"#",active:e.state.activeItemInnerPills===n,onClick:e.toggleOuterPills(n),className:"text-left"},o.a.createElement(T.n,{icon:t.icon,className:"mr-2"})," ",t.title))})))),o.a.createElement(T.j,{md:"9"},o.a.createElement(T.F,{activeItem:this.state.activeItemInnerPills},this.props.settings&&this.props.settings.map((function(t,n){return o.a.createElement(o.a.Fragment,null,o.a.createElement(T.G,{tabId:n,key:n},o.a.createElement(T.s,{className:"nav-tabs mt-5"},t.subtitles&&t.subtitles.map((function(t,n){return o.a.createElement(T.t,null,o.a.createElement(T.u,{to:"#",active:e.state.activeSubItem===n,onClick:e.toggleSub(n),role:"tab"},t.title))}))),o.a.createElement(T.F,{activeItem:e.state.activeSubItem})))}))))):this.props.horizontal?o.a.createElement(o.a.Fragment,null,o.a.createElement(T.s,{className:"nav-tabs"},this.props.items&&this.props.items.map((function(t,n){return t.visible?o.a.createElement(T.t,{key:n},o.a.createElement(T.u,{to:"#",active:e.state.activeHorizontalItem===n,onClick:e.toggleHorizontal(n),className:e.state.activeHorizontalItem===n&&"seriouslyActive",role:"tab"},t.title,t.notification&&o.a.createElement(T.c,{pill:!0,color:"danger"}," "),t.pill&&o.a.createElement(T.c,{className:"ml-2",pill:!0,color:"light"},t.pill))):null}))),o.a.createElement(T.F,{activeItem:this.state.activeHorizontalItem},this.props.children)):null}}]),t}(o.a.Component)),S=function(e){function t(){return Object(h.a)(this,t),Object(E.a)(this,Object(b.a)(t).apply(this,arguments))}return Object(v.a)(t,e),Object(g.a)(t,[{key:"render",value:function(){return o.a.createElement(T.b,{className:"mx-auto white"},o.a.createElement("img",{src:this.props.url,alt:this.props.alt,className:"rounded-circle img-fluid"}))}}]),t}(o.a.Component),w=(n(443),function(e){function t(){return Object(h.a)(this,t),Object(E.a)(this,Object(b.a)(t).apply(this,arguments))}return Object(v.a)(t,e),Object(g.a)(t,[{key:"render",value:function(){var e=this.props,t=e.status,n=e.name,a=e.company,r=e.location,s=e.email,i=e.website,c=(e.accounts,e.platforms),l=e.organisations,u={github:!1,gitlab:!1,bitbucket:!1};return c&&c.map((function(e,t){switch(e.platform){case"GitHub":return u.github=!0,!0;case"GitLab":return u.gitlab=!0,!0;case"BitBucket":return u.bitbucket=!0,!0;default:return!1}})),o.a.createElement(T.g,{id:"socialdata"},o.a.createElement("h4",{className:"font-weight-bold mb-4"},n),o.a.createElement("hr",null),o.a.createElement("div",{className:"text-left mb-2"},o.a.createElement("div",null,o.a.createElement(T.c,{color:"secondary"},"Pro")),o.a.createElement("a",{href:"https://www.x.com"},"#32")," in your region"),o.a.createElement(T.e,{color:"grey",className:"w-100 mx-0"},"Edit profile"),t&&(t.message||t.icon)&&o.a.createElement(o.a.Fragment,null,o.a.createElement("hr",null),t.icon&&o.a.createElement("div",{dangerouslySetInnerHTML:{__html:t.icon}}),t.message&&o.a.createElement("p",{className:"dark-grey-text"},t.message)),(a||r||s||i)&&o.a.createElement("hr",null),o.a.createElement("div",{className:"vcard text-left"},a&&o.a.createElement("span",null,o.a.createElement(T.n,{icon:"building"}),a),r&&o.a.createElement("span",null,o.a.createElement(T.n,{icon:"map-marker-alt"}),r),s&&o.a.createElement("a",{href:"mailto:"+s},o.a.createElement("span",null,o.a.createElement(T.n,{icon:"envelope"}),s)),i&&o.a.createElement("a",{href:i,target:"_blank",rel:"noopener noreferrer"},o.a.createElement("span",null,o.a.createElement(T.n,{icon:"link"}),i)),o.a.createElement("div",{className:"platform-list my-3 py-3"},u.gitlab&&o.a.createElement(T.n,{fab:!0,icon:"gitlab",size:"lg"}),u.github&&o.a.createElement(T.n,{fab:!0,icon:"github",size:"lg"}),u.bitbucket&&o.a.createElement(T.n,{fab:!0,icon:"bitbucket",size:"lg"})),o.a.createElement("div",{className:"organisation-list my-3 pb-3"},l.map((function(e,t){return o.a.createElement("a",{href:e.url,target:"_blank",rel:"noopener noreferrer"},o.a.createElement("img",{src:e.avatarUrl,alt:e.name+" logo"}))}))),o.a.createElement(j,{languages:this.props.languages})))}}]),t}(o.a.Component));function I(e,t){var n=function(e){3===(e=e.replace(/^\s*#|\s*$/g,"")).length&&(e=e.replace(/(.)/g,"$1$1"));var t=parseInt(e.substr(0,2),16)/255,n=parseInt(e.substr(2,2),16)/255,a=parseInt(e.substr(4,2),16)/255,r=Math.max(t,n,a),o=Math.min(t,n,a),s=r-o,i=(r+o)/2,c=0,l=0;c=0===s?0:r===t?(n-a)/s%6*60:r===n?60*((a-t)/s+2):60*((t-n)/s+4);l=0===s?0:s/(1-Math.abs(2*i-1));return{h:c,s:l,l:i}}(e);return n.h+=t,n.h>360?n.h-=360:n.h<0&&(n.h+=360),function(e){var t,n,a,r=e.h,o=e.s,s=e.l,i=(1-Math.abs(2*s-1))*o,c=i*(1-Math.abs(r/60%2-1)),l=s-i/2;r<60?(t=i,n=c,a=0):r<120?(t=c,n=i,a=0):r<180?(t=0,n=i,a=c):r<240?(t=0,n=c,a=i):r<300?(t=c,n=0,a=i):(t=i,n=0,a=c);return t=L(t,l),n=L(n,l),a=L(a,l),function(e,t,n){return"#"+((1<<24)+(e<<16)+(t<<8)+n).toString(16).slice(1)}(t,n,a)}(n)}function L(e,t){return(e=Math.floor(255*(e+t)))<0&&(e=0),e}n(444);var k=[1,2,3,4,5,6,7,8,9,10,11,12,13],R=function(e){function t(e){var n;return Object(h.a)(this,t),(n=Object(E.a)(this,Object(b.a)(t).call(this,e))).updateDimensions=function(){n.setState({width:n.myInput.current.offsetWidth})},n.componentDidMount=function(){window.addEventListener("resize",n.updateDimensions);var e=n.props.calendar.currentYear;n.setState({width:n.myInput.current.offsetWidth,contributionsList:e},(function(){return n.countContribs()}))},n.cycleHue=function(){n.state.hue>365&&n.setState({hue:0}),n.setState({hue:n.state.hue+1})},n.countContribs=function(){return n.state.contributionsList?n.state.contributionsList.total:null},n.getEachMonth=function(e){var t=new Array,n=(new Date).getMonth();return t[0]="Jan",t[1]="Feb",t[2]="Mar",t[3]="Apr",t[4]="May",t[5]="Jun",t[6]="Jul",t[7]="Aug",t[8]="Sep",t[9]="Oct",t[10]="Nov",t[11]="Dec",t[12]="Jan",t[13]="Feb",t[14]="Mar",t[15]="Apr",t[16]="May",t[17]="Jun",t[18]="Jul",t[19]="Aug",t[20]="Sep",t[21]="Oct",t[22]="Nov",t[23]="Dec",t[n+e]},n.myInput=o.a.createRef(),n.state={width:0,hue:0},n}return Object(v.a)(t,e),Object(g.a)(t,[{key:"componentWillUnmount",value:function(){window.removeEventListener("resize",this.updateDimensions)}},{key:"render",value:function(){var e=this;return o.a.createElement("div",{id:"calendar2d"},o.a.createElement("div",{className:"text-right"},o.a.createElement("h3",{className:"font-weight-bold d-inline-block"},this.countContribs()),o.a.createElement("span",null," contributions in the last year")),o.a.createElement(T.C,{className:"text-center"},k.map((function(t,n){return o.a.createElement(T.j,{size:"months",key:n},o.a.createElement("small",null,e.getEachMonth(n)))}))),o.a.createElement("div",{ref:this.myInput},o.a.createElement("svg",{className:"calendar",height:this.state.width/53*7},this.state.contributionsList&&this.state.contributionsList.weeks.map((function(t,n){return t.contributionDays.map((function(a,r){return 0===n?o.a.createElement("rect",{key:n+"-"+r,y:e.state.width/53*7+e.state.width/53*r-t.contributionDays.length*(e.state.width/53),x:0,width:e.state.width/53,height:e.state.width/53,"data-data":a.date,"data-count":a.total,fill:I(a.color,e.state.hue)}):o.a.createElement("rect",{key:n+"-"+r,y:e.state.width/53*r,x:e.state.width/53*n,width:e.state.width/53,height:e.state.width/53,"data-data":a.date,"data-count":a.total,fill:I(a.color,e.state.hue)})}))})))))}}]),t}(o.a.Component),C=n(44),A=n.n(C),x=(n(445),function(e){function t(e){var a;return Object(h.a)(this,t),(a=Object(E.a)(this,Object(b.a)(t).call(this,e))).updateDimensions=function(){a.setState({width:a.myInput.current.offsetWidth})},a.componentDidMount=function(){window.addEventListener("resize",a.updateDimensions),a.setState({width:a.myInput.current.offsetWidth},(function(){return a.renderIsometrics()}))},a.renderIsometrics=function(){var e=n(446),t=new e.Point(70,70),r=new e.PixelView(a.context,t),o=a.props.calendar.currentYear,s=0,i=[];o.weeks.map((function(e,t){i[t]=[],e.contributionDays.map((function(e,n){e.total>s&&(s=e.total),i[t][n]=e}))})),i.map((function(t,n){t.map((function(t,a){var o=3;s>0&&(o+=parseInt(100/s*t.total));var i=n,c=a,l=t.color,u=(new e.CubeColor).getByHorizontalColor(parseInt("0x"+l.replace("#",""))),m=new e.CubeDimension(10,10,o),p=new e.Point3D(10*i,10*c,0),d=new e.Cube(m,u,!1);r.renderObject(d,p)}))}))},a.myInput=o.a.createRef(),a.state={width:0,hue:0},a}return Object(v.a)(t,e),Object(g.a)(t,[{key:"componentWillUnmount",value:function(){window.removeEventListener("resize",this.updateDimensions)}},{key:"renderTopStats",value:function(){var e,t,n,a,r,o=this.props.contrib[2019],s=this.props.calendar.currentYear;return e=s.total,t=o.average,n=A()(s.fromDate).format("MMM DD, YYYY")+" - "+A()(s.toDate).format("MMM DD, YYYY"),a=o.busiestDay.total,r=A()(o.busiestDay.date).format("MMM DD"),{__html:'<div class="ic-stats-block ic-stats-top">\n\n    <span class="ic-stats-table">\n\n    <span class="ic-stats-row">\n\n    <span class="ic-stats-label">1 year total\n\n    <span class="ic-stats-count">'.concat(e,'</span>\n\n    <span class="ic-stats-average">').concat(t,'</span> per day\n\n    </span>\n\n    <span class="ic-stats-meta ic-stats-total-meta">\n\n    <span class="ic-stats-unit">contributions</span>\n\n    <span class="ic-stats-date">').concat(n,'</span>\n\n    </span>\n\n    </span>\n\n    <span class="ic-stats-row">\n\n    <span class="ic-stats-label">Busiest day\n\n    <span class="ic-stats-count">').concat(a,'</span>\n\n    </span>\n\n    <span class="ic-stats-meta">\n\n    <span class="ic-stats-unit">contributions</span>\n\n    <span class="ic-stats-date">').concat(r,"</span>\n\n    </span>\n\n    </span>\n\n    </span>\n\n    </span>\n\n    </div>")}}},{key:"renderBottomStats",value:function(){var e,t,n,a,r=this.props.contrib[2019];this.props.calendar.currentYear;return e=r.longestStreak.total,t=A()(r.longestStreak.startDate).format("MMM DD, YYYY")+" - "+A()(r.longestStreak.endDate).format("MMM DD, YYYY"),n=r.currentStreak.total,a=A()(r.currentStreak.startDate).format("MMM DD, YYYY")+" - "+A()(r.currentStreak.endDate).format("MMM DD, YYYY"),{__html:'<div class="ic-stats-block ic-stats-bottom">\n\n    <span class="ic-stats-table">\n\n    <span class="ic-stats-row">\n\n    <span class="ic-stats-label">Longest streak\n\n    <span class="ic-stats-count">'.concat(e,'</span>\n\n    </span>\n\n    <span class="ic-stats-meta">\n\n    <span class="ic-stats-unit">days</span>\n\n    <span class="ic-stats-date">').concat(t,'</span>\n\n    </span>\n\n    </span>\n\n    <span class="ic-stats-row">\n\n    <span class="ic-stats-label">Current streak\n\n    <span class="ic-stats-count">').concat(n,'</span>\n\n    </span>\n\n    <span class="ic-stats-meta">\n\n    <span class="ic-stats-unit">days</span>\n\n    <span class="ic-stats-date">').concat(a,"</span>\n\n    </span>\n\n    </span>\n\n    </span>\n\n    </div>")}}},{key:"render",value:function(){var e=this;return o.a.createElement("div",{id:"calendar3d"},o.a.createElement("div",{dangerouslySetInnerHTML:this.renderTopStats()}),o.a.createElement("div",{dangerouslySetInnerHTML:this.renderBottomStats()}),o.a.createElement("div",{ref:this.myInput},o.a.createElement("canvas",{ref:function(t){return e.context=t},width:this.state.width,height:"410"})))}}]),t}(o.a.Component)),_=n(109),j=function(e){function t(){var e,n;Object(h.a)(this,t);for(var a=arguments.length,r=new Array(a),o=0;o<a;o++)r[o]=arguments[o];return(n=Object(E.a)(this,(e=Object(b.a)(t)).call.apply(e,[this].concat(r)))).state={dataPolar:{datasets:[{data:[300,250,100,40],backgroundColor:["rgba(247, 70, 74, 0.8)","rgba(70, 191, 189, 0.8)","rgba(253, 180, 92, 0.8)","rgba(148, 159, 177, 0.8)"],label:"Your top languages"}],labels:["JavaScript","Python","CSS","Roff"]}},n.componentDidMount=function(){var e=n.props.languages.slices,t=[],a=[],r=[];Object.values(e).map((function(e,n){t.push(e.color),a.push(e.name),r.push(e.share)})),n.setState({dataPolar:{datasets:[{data:r,backgroundColor:t,label:"Your top languages"}],labels:a}})},n}return Object(v.a)(t,e),Object(g.a)(t,[{key:"render",value:function(){return o.a.createElement(o.a.Fragment,null,o.a.createElement("p",{className:"lead font-weight-bold text-center mt-3"},"Your top languages"),this.state.dataPolar&&o.a.createElement(_.a,{className:"w-100 h-auto",data:this.state.dataPolar,options:{legend:{display:!1}}}))}}]),t}(o.a.Component),U=n(61),D=(n(549),function(e){function t(){var e,n;Object(h.a)(this,t);for(var a=arguments.length,r=new Array(a),o=0;o<a;o++)r[o]=arguments[o];return(n=Object(E.a)(this,(e=Object(b.a)(t)).call.apply(e,[this].concat(r)))).state={isOpen:!1},n.toggleCollapse=function(){n.setState({isOpen:!n.state.isOpen})},n.logout=function(){localStorage.removeItem("jwt_snek"),window.location.href="/"},n}return Object(v.a)(t,e),Object(g.a)(t,[{key:"render",value:function(){var e=this,t=this.props.location,n=this.props.data;return o.a.createElement(T.v,{color:"elegant-color",dark:!0,expand:"md"},o.a.createElement(T.l,null,o.a.createElement(T.w,null,o.a.createElement("strong",{className:"white-text"},"SNEK")),o.a.createElement(T.y,{onClick:this.toggleCollapse}),o.a.createElement(T.k,{id:"navbarCollapse3",isOpen:this.state.isOpen,navbar:!0},o.a.createElement(H,null),o.a.createElement(T.x,{left:!0},o.a.createElement(T.t,null,o.a.createElement(T.u,{to:"#!"},"Ranking")),o.a.createElement(T.t,null,o.a.createElement(T.u,{to:"#!"},"Developer")),o.a.createElement(T.t,null,o.a.createElement(T.u,{to:"#!"},"Jobs")),o.a.createElement(T.t,null,o.a.createElement(T.u,{to:"#!"},"Trends"))),n.logged?o.a.createElement(T.x,{right:!0},o.a.createElement(T.t,null,o.a.createElement("span",{className:"nav-link cursor-pointer",onClick:this.logout},"Logout"))):o.a.createElement(T.x,{right:!0},o.a.createElement(T.t,{active:n.pageLogin},"/"===t.pathname?o.a.createElement("span",{className:"nav-link cursor-pointer",onClick:function(){return e.props.changeState("pageLogin",!0)}},"Sign in"):o.a.createElement(T.u,{to:"/"},"Sign in")),o.a.createElement(T.t,{active:!n.pageLogin},"/"===t.pathname?o.a.createElement("span",{className:"nav-link cursor-pointer",onClick:function(){return e.props.changeState("pageLogin",!1)}},"Sign up"):o.a.createElement(T.u,{to:"/"},"Sign up"))))))}}]),t}(o.a.Component)),M=Object(U.g)(D),F=function(e){function t(){return Object(h.a)(this,t),Object(E.a)(this,Object(b.a)(t).apply(this,arguments))}return Object(v.a)(t,e),Object(g.a)(t,[{key:"render",value:function(){return o.a.createElement(T.m,{color:"elegant-color"},o.a.createElement(T.l,{className:"text-center py-3"},o.a.createElement(y.b,{to:"/about"},"Impressum")),o.a.createElement("div",{className:"footer-copyright text-center py-3"},o.a.createElement(T.l,{fluid:!0},"\xa9 2017 - ",(new Date).getFullYear()," Copyright: Werbeagentur Christian Aichner",o.a.createElement("p",{className:"my-2 font-weight-bold"},"Made with",o.a.createElement("i",{className:"fas fa-heart pulse red-text ml-1 mr-1","aria-hidden":"true"}),"by",o.a.createElement("a",{href:"https://www.aichner-christian.com",target:"_blank",className:"ml-1",rel:"noopener noreferrer"},"us"),"."))))}}]),t}(o.a.Component),Y=n(113),P=n.n(Y),z=function(e){function t(e){var n;return Object(h.a)(this,t),(n=Object(E.a)(this,Object(b.a)(t).call(this,e))).componentDidMount=function(){n.setState({scope:n.props.scope})},n.onTypingDone=function(){n.setState({scope:null},(function(){return n.setState({scope:n.props.scope})}))},n.state={active:0},n}return Object(v.a)(t,e),Object(g.a)(t,[{key:"render",value:function(){var e=this;return this.state.scope?o.a.createElement(P.a,{className:"d-inline typist",cursor:{show:!0,blink:!0,element:"_"},onTypingDone:function(){return e.onTypingDone()}},o.a.createElement(P.a.Delay,{ms:2e3}),this.state.scope.map((function(e,t){return o.a.createElement("span",{key:t},e,o.a.createElement(P.a.Backspace,{count:e.length+10,delay:2e3}))}))):null}}]),t}(o.a.Component),H=function(e){function t(){var e,n;Object(h.a)(this,t);for(var a=arguments.length,r=new Array(a),o=0;o<a;o++)r[o]=arguments[o];return(n=Object(E.a)(this,(e=Object(b.a)(t)).call.apply(e,[this].concat(r)))).state={search:""},n.handleChange=function(e){n.setState(Object(p.a)({},e.target.name,e.target.value))},n}return Object(v.a)(t,e),Object(g.a)(t,[{key:"render",value:function(){this.props.location,this.props.data;return o.a.createElement(o.a.Fragment,null,o.a.createElement("div",{className:"md-form my-0 mx-2"},o.a.createElement(T.p,{className:"mr-sm-2",outline:!0,maxLength:"20",value:this.state.search,name:"search",type:"search",onChange:this.handleChange,placeholder:"Search","aria-label":"Search"}),o.a.createElement(T.n,{icon:"search"})),this.state.search&&o.a.createElement("div",{className:"search-results"},o.a.createElement(T.q,null,o.a.createElement("a",{href:"https://www.google.com/search?q="+this.state.search,target:"_blank",className:"text-muted"},o.a.createElement(T.r,null,o.a.createElement(T.n,{fab:!0,icon:"google",className:"mr-2"}),this.state.search)))))}}]),t}(o.a.Component),B=(o.a.Component,function(e){function t(){var e,n;Object(h.a)(this,t);for(var a=arguments.length,r=new Array(a),o=0;o<a;o++)r[o]=arguments[o];return(n=Object(E.a)(this,(e=Object(b.a)(t)).call.apply(e,[this].concat(r)))).componentDidMount=function(){n.getRedirect()},n.getRedirect=function(){var e;return f.a.async((function(t){for(;;)switch(t.prev=t.next){case 0:e=window.name,localStorage.setItem(e,window.location.href),window.close();case 3:case"end":return t.stop()}}))},n}return Object(v.a)(t,e),Object(g.a)(t,[{key:"render",value:function(){return null}}]),t}(o.a.Component)),G=[{title:"General",subtitles:[{title:"Profile"}],icon:"user"},{title:"Customization",subtitles:[{title:"Features"},{title:"Colors"},{title:"User profile"}],icon:"leaf"},{title:"Security",subtitles:[{title:"Login"}],icon:"lock"},{title:"API",subtitles:[{title:"Profile"}],icon:"network-wired"},{title:"Billing",icon:"dollar-sign"},{title:"Stats",subtitles:[{title:"General"}],icon:"lock"},{title:"Sources",subtitles:[{title:"General"}],icon:"cloud"}],V=function(e){function t(){return Object(h.a)(this,t),Object(E.a)(this,Object(b.a)(t).apply(this,arguments))}return Object(v.a)(t,e),Object(g.a)(t,[{key:"render",value:function(){return o.a.createElement(T.l,null,o.a.createElement("h2",{className:"mt-5"},"Settings"),o.a.createElement(O,{settings:G,vertical:!0}))}}]),t}(o.a.Component),W=(o.a.Component,n(550),function(e){function t(){var e,n;Object(h.a)(this,t);for(var a=arguments.length,r=new Array(a),o=0;o<a;o++)r[o]=arguments[o];return(n=Object(E.a)(this,(e=Object(b.a)(t)).call.apply(e,[this].concat(r)))).state={},n.getBadge=function(e,t){var a;return f.a.async((function(r){for(;;)switch(r.prev=r.next){case 0:if(n.state[e]){r.next=10;break}return n.setState(Object(p.a)({},e,null)),r.next=4,f.a.awrap(fetch(t));case 4:if(!(a=r.sent).ok){r.next=10;break}return r.next=8,f.a.awrap(a.text());case 8:r.sent.includes("repo not found")?n.setState(Object(p.a)({},e,null)):n.setState(Object(p.a)({},e,t));case 10:case"end":return r.stop()}}))},n}return Object(v.a)(t,e),Object(g.a)(t,[{key:"render",value:function(){var e=this;return o.a.createElement(T.G,{tabId:this.props.id,role:"tabpanel"},this.props.repos&&o.a.createElement(o.a.Fragment,null,o.a.createElement("h3",{className:"font-weight-bold mt-4"},"Repositories"),o.a.createElement(T.C,{className:"project-list"},this.props.repos.map((function(t,n){return void 0===e.state["lastCommit"+n]&&e.getBadge("lastCommit"+n,"https://cors-anywhere.herokuapp.com/https://img.shields.io/github/last-commit/"+t.owner.login+"/"+t.name),o.a.createElement(T.j,{key:n,md:"6"},o.a.createElement("a",{href:t.url,target:"_blank",rel:"noopener noreferrer"},o.a.createElement("li",null,o.a.createElement("div",null,o.a.createElement("p",{className:"lead mb-1 float-left"},t.name),t.languagePie.slices.length>0?o.a.createElement("small",{className:"mb-1 float-right text-muted"},o.a.createElement(T.n,{icon:"square",className:"pr-1",style:{color:t.languagePie.slices[0].color}}),t.languagePie.slices[0].name):o.a.createElement("small",{className:"mb-1 float-right text-muted"},"No top language")),o.a.createElement("div",{className:"clearfix"}),o.a.createElement("div",null,o.a.createElement("img",{src:t.avatarUrl,alt:t.owner.login}),o.a.createElement("small",null,"Owned by ",t.owner.login)),o.a.createElement("div",{className:"py-2"},o.a.createElement("img",{className:"img-badge",src:e.state["lastCommit"+n]})))))})))))}}]),t}(o.a.Component)),J=function(e){function t(){return Object(h.a)(this,t),Object(E.a)(this,Object(b.a)(t).apply(this,arguments))}return Object(v.a)(t,e),Object(g.a)(t,[{key:"render",value:function(){var e=this;return o.a.createElement(T.G,{tabId:this.props.id,role:"tabpanel"},this.props.languages&&o.a.createElement(T.C,{className:"text-center text-md-left mb-4"},Object.keys(this.props.languages).map((function(t,n){if(n<6)return o.a.createElement(T.j,{md:"4",key:n},o.a.createElement("span",{className:"mb-2 text-muted"},o.a.createElement(T.n,{icon:"square",className:"pr-2",style:{color:e.props.languages[t].color}}),e.props.languages[t].name," ",o.a.createElement("small",null,e.props.languages[t].share,"%")))}))),this.props.contrib&&this.props.calendar&&o.a.createElement(o.a.Fragment,null,o.a.createElement(x,{contrib:this.props.contrib,calendar:this.props.calendar}),this.props.contrib&&o.a.createElement(R,{calendar:this.props.calendar})))}}]),t}(o.a.Component),K=function(e){function t(){return Object(h.a)(this,t),Object(E.a)(this,Object(b.a)(t).apply(this,arguments))}return Object(v.a)(t,e),Object(g.a)(t,[{key:"render",value:function(){return o.a.createElement(T.G,{tabId:this.props.id,role:"tabpanel"})}}]),t}(o.a.Component),X=(n(551),function(e){function t(){var e,n;Object(h.a)(this,t);for(var a=arguments.length,r=new Array(a),o=0;o<a;o++)r[o]=arguments[o];return(n=Object(E.a)(this,(e=Object(b.a)(t)).call.apply(e,[this].concat(r)))).state={},n.setTabItems=function(){var e=n.props.globalStore.data.repos.length;n.setState({tabitems:[{title:"Overview",visible:!0,pill:!1,notification:!1},{title:"Projects",visible:!0,pill:e,notification:!0},{title:"Education",visible:!0,notification:!1},{title:"Posts",visible:!0,pill:"0",notification:!1},{title:"Papers",visible:!0,pill:"0",notification:!1},{title:"Talks",visible:!0,pill:"0",notification:!1}]})},n}return Object(v.a)(t,e),Object(g.a)(t,[{key:"render",value:function(){var e=this.props.globalStore;if(!e.data.logged)return o.a.createElement(U.a,{to:"/"});var t=e.data;return t&&!this.state.tabitems&&this.setTabItems(),t&&this.state.tabitems&&t.user?o.a.createElement("div",{id:"profile"},o.a.createElement(T.l,{className:"py-5"},o.a.createElement(T.C,null,o.a.createElement(T.j,{md:"4",className:"text-center"},o.a.createElement(T.f,{testimonial:!0},o.a.createElement(T.i,{color:"info"}),o.a.createElement(S,{url:t.user.avatarUrl,alt:t.user.name}),o.a.createElement(w,{status:{message:t.user.status,icon:t.user.statusEmojiHTML},name:t.user.name,company:t.user.company,location:t.user.location,email:t.user.email,languages:t.languages,website:t.user.websiteUrl,organisations:t.orgs,platforms:t.user.platforms}))),o.a.createElement(T.j,{md:"8"},o.a.createElement(O,{items:this.state.tabitems,horizontal:!0},o.a.createElement(J,{id:0,contrib:t.contrib,calendar:t.contribCalendar,contribTypes:t.contribTypes,languages:t.languages.slices}),o.a.createElement(W,{id:1,repos:t.repos}),o.a.createElement(K,{id:2})))))):o.a.createElement(T.E,null)}}]),t}(o.a.Component)),q=n(110),$=(n(552),n(248)),Z=n(553),Q="\n    ".concat("\nDROP TABLE IF EXISTS platform;\nCREATE TABLE IF NOT EXISTS platform (\n    id INT NOT NULL AUTO_INCREMENT,\n    platformName VARCHAR(80) NOT NULL,\n    platformUrl VARCHAR(2048) NOT NULL,\n    avatarUrl VARCHAR(2048) NOT NULL,\n    websiteUrl VARCHAR(2048) NOT NULL,\n    company VARCHAR(80) NOT NULL,\n    email VARCHAR(254) NOT NULL,\n    username VARCHAR(80) NOT NULL,\n    fullName VARCHAR(80) NOT NULL,\n    createdAt DATE NOT NULL,\n    location VARCHAR(80) NULL,\n    statusMessage VARCHAR(80) NULL,\n    statusEmojiHTML VARCHAR(80) NULL,\n    PRIMARY KEY (id)\n);\n","\n    ").concat("\nDROP TABLE IF EXISTS organization;\nCREATE TABLE IF NOT EXISTS organization (\n    id INT NOT NULL AUTO_INCREMENT,\n    avatarUrl VARCHAR(2048) NOT NULL,\n    name VARCHAR(80) NOT NULL,\n    url VARCHAR(2048) NOT NULL,\n    PRIMARY KEY (id)\n);\n","\n    ").concat("\nDROP TABLE IF EXISTS member;\nCREATE TABLE IF NOT EXISTS member (\n    id INT NOT NULL AUTO_INCREMENT,\n    avatarUrl VARCHAR(2048) NOT NULL,\n    name VARCHAR(80) NULL,\n    username VARCHAR(80) NOT NULL,\n    url VARCHAR(2048) NOT NULL,\n    PRIMARY KEY (id)\n);\n","\n    ").concat("\nDROP TABLE IF EXISTS languagePie;\nCREATE TABLE IF NOT EXISTS languagePie (\n    id INT NOT NULL AUTO_INCREMENT,\n    size INT NOT NULL,\n    total INT NOT NULL,\n    PRIMARY KEY (id)\n);\n","\n    ").concat("\nDROP TABLE IF EXISTS repository;\nCREATE TABLE IF NOT EXISTS repository (\n    id INT NOT NULL AUTO_INCREMENT,\n    avatarUrl VARCHAR(2048) NOT NULL,\n    url VARCHAR(2048) NOT NULL,\n    name VARCHAR(80) NOT NULL,\n    owner_id INT NULL,\n    languagePie_id INT NULL,\n    PRIMARY KEY (id),\n    CONSTRAINT fk_repository_owner1\n        FOREIGN KEY (owner_id)\n        REFERENCES member (id),\n    CONSTRAINT fk_repository_languagePie1\n        FOREIGN KEY (languagePie_id)\n        REFERENCES languagePie (id)\n);\n","\n    ").concat("\nDROP TABLE IF EXISTS languageSlice;\nCREATE TABLE IF NOT EXISTS languageSlice (\n    id INT UNSIGNED NOT NULL AUTO_INCREMENT,\n    color VARCHAR(7) NULL,\n    name VARCHAR(80) NOT NULL,\n    size INT NOT NULL,\n    pie_id INT NOT NULL,\n    PRIMARY KEY (id),\n    CONSTRAINT fk_pie_id\n        FOREIGN KEY (pie_id)\n        REFERENCES languagePie (id)\n);\n","\n    ").concat("\nDROP TABLE IF EXISTS statistic;\nCREATE TABLE IF NOT EXISTS statistic (\n    id INT NOT NULL AUTO_INCREMENT,\n    year INT NOT NULL,\n    platform_id INT NOT NULL,\n    PRIMARY KEY (id),\n    CONSTRAINT fk_statistic_platform\n        FOREIGN KEY (platform_id)\n        REFERENCES platform (id)\n);\n","\n    ").concat("\nDROP TABLE IF EXISTS streak ;\nCREATE TABLE IF NOT EXISTS streak (\n    id INT NOT NULL AUTO_INCREMENT,\n    startDate DATE NULL,\n    endDate DATE NULL,\n    total INT NULL,\n    statistic_id INT NOT NULL REFERENCES statistic(id),\n    PRIMARY KEY (id)\n);\n","\n    ").concat("\nDROP TABLE IF EXISTS calendar;\nCREATE TABLE IF NOT EXISTS calendar (\n    id INT NOT NULL AUTO_INCREMENT,\n    date DATE NOT NULL,\n    week INT NOT NULL,\n    weekday INT NOT NULL,\n    total INT NOT NULL,\n    color VARCHAR(7) NULL,\n    platform_id INT NOT NULL,\n    PRIMARY KEY (id),\n    CONSTRAINT fk_calendar_platform1\n        FOREIGN KEY (platform_id)\n        REFERENCES platform (id)\n);\n","\n    ").concat("\nDROP TABLE IF EXISTS contrib;\nCREATE TABLE IF NOT EXISTS contrib (\n    id INT NOT NULL AUTO_INCREMENT,\n    datetime DATETIME NOT NULL,\n    nameWithOwner VARCHAR(255) NOT NULL,\n    repoUrl VARCHAR(255) NOT NULL,\n    additions INT NULL,\n    deletions INT NULL,\n    changedFiles INT NULL,\n    type VARCHAR(255) NOT NULL,\n    calendar_id INT NOT NULL,\n    PRIMARY KEY (id),\n    CONSTRAINT fk_contrib_calendar1\n        FOREIGN KEY (calendar_id)\n        REFERENCES calendar (id)\n);\n","\n    ").concat("\nDROP TABLE IF EXISTS organization_has_member ;\nCREATE TABLE IF NOT EXISTS organization_has_member (\n    organization_id INT NOT NULL,\n    member_id INT NOT NULL,\n    PRIMARY KEY (organization_id, member_id),\n    CONSTRAINT fk_organization_has_member_organization1\n        FOREIGN KEY (organization_id)\n        REFERENCES organization (id),\n    CONSTRAINT fk_organization_has_member_member1\n        FOREIGN KEY (member_id)\n        REFERENCES member (id)\n);\n","\n    ").concat("\nDROP TABLE IF EXISTS repository_has_member;\nCREATE TABLE IF NOT EXISTS repository_has_member (\n    repository_id INT NOT NULL,\n    member_id INT NOT NULL,\n    PRIMARY KEY (repository_id, member_id),\n    CONSTRAINT fk_repository_has_member_repository1\n        FOREIGN KEY (repository_id)\n        REFERENCES repository (id),\n    CONSTRAINT fk_repository_has_member_member1\n        FOREIGN KEY (member_id)\n        REFERENCES member (id)\n);\n","\n    ").concat("\nDROP TABLE IF EXISTS platform_has_organization;\nCREATE TABLE IF NOT EXISTS platform_has_organization (\n    platform_id INT NOT NULL,\n    organization_id INT NOT NULL,\n    PRIMARY KEY (platform_id, organization_id),\n    CONSTRAINT fk_platform_has_organization_platform1\n        FOREIGN KEY (platform_id)\n        REFERENCES platform (id),\n    CONSTRAINT fk_platform_has_organization_organization1\n        FOREIGN KEY (organization_id)\n        REFERENCES organization (id)\n);\n","\n    ").concat("\nDROP TABLE IF EXISTS platform_has_repository ;\nCREATE TABLE IF NOT EXISTS platform_has_repository (\n    platform_id INT NOT NULL,\n    repository_id INT NOT NULL,\n    PRIMARY KEY (platform_id, repository_id),\n    CONSTRAINT fk_platform_has_repository_platform1\n        FOREIGN KEY (platform_id)\n        REFERENCES platform (id),\n    CONSTRAINT fk_platform_has_repository_repository1\n        FOREIGN KEY (repository_id)\n        REFERENCES repository (id)\n    );\n","\n");var ee,te="\nINSERT INTO platform(\n    platformName,\n    platformUrl,\n    avatarUrl,\n    websiteUrl,\n    company,\n    email,\n    username,\n    fullName,\n    createdAt,\n    location,\n    statusMessage,\n    statusEmojiHTML\n)\nVALUES (?,?,?,?,?,?,?,?,?,?,?,?);\n",ne="\nINSERT INTO organization(\n    avatarUrl,\n    name,\n    url\n)\nVALUES (?,?,?);\n",ae="\nINSERT INTO member(\n    avatarUrl,\n    name,\n    username,\n    url\n)\nVALUES (?,?,?,?);\n",re="\nINSERT INTO repository(\n    avatarUrl,\n    url,\n    name,\n    owner_id,\n    languagePie_id\n)\nVALUES (?,?,?,?,?);\n",oe="\nINSERT INTO statistic(\n    year,\n    platform_id\n)\nVALUES (?,?);\n",se="\nINSERT INTO calendar(\n    date,\n    week,\n    weekday,\n    total,\n    color,\n    platform_id\n)\nVALUES (?,?,?,?,?,?);\n",ie="\nINSERT INTO contrib(\n    datetime,\n    nameWithOwner,\n    repoUrl,\n    additions,\n    deletions,\n    changedFiles,\n    type,\n    calendar_id\n)\nVALUES (?,?,?,?,?,?,?,?);\n",ce="\nINSERT INTO platform_has_organization(\n    platform_id,\n    organization_id\n)\nVALUES (?,?);\n",le="\nINSERT INTO platform_has_repository(\n    platform_id,\n    repository_id\n)\nVALUES (?,?);\n",ue="https://cors-anywhere.herokuapp.com/",me=function(e){var t="".concat(ue).concat(e);return fetch(t,{headers:{Accept:"application/json, text/plain, */*","X-Requested-With":"XMLHttpRequest"}}).then((function(e){return e.json()})).then((function(e){return e}))},pe=function(e){var t="".concat(ue).concat(e);return fetch(t,{headers:{Accept:"application/json, text/plain, */*"}}).then((function(e){return e.text()})).then((function(e){return e}))},de=function(e){var t=new DOMParser;return e.then((function(e){return t.parseFromString(e.html,"text/html")}))},fe=function(e){var t=new DOMParser;return e.then((function(e){return t.parseFromString(e,"text/html")}))};Date.prototype.getWeekNumber=function(){var e=new Date(Date.UTC(this.getFullYear(),this.getMonth(),this.getDate())),t=e.getUTCDay()||7;e.setUTCDate(e.getUTCDate()+4-t);var n=new Date(Date.UTC(e.getUTCFullYear(),0,1));return Math.ceil(((e-n)/864e5+1)/7)};var he,ge,Ee=function(e){var t,n,a,r,o,s,i,c,l,u,m;return f.a.async((function(p){for(;;)switch(p.prev=p.next){case 0:return t="https://".concat(e.server,"/users/").concat(e.username,"/groups.json"),p.next=3,f.a.awrap(de(me(t).then((function(e){return e}))));case 3:for(n=p.sent,a=n.getElementsByClassName("group-row"),r=0,o=Array.from(a);r<o.length;r++)s=o[r],i=s.getElementsByClassName("avatar")[0].getAttribute("data-src"),c=s.getElementsByClassName("group-name")[0].getAttribute("href").substring(1),l="https://".concat(e.server,"/").concat(c),i&&(i.includes("https://")&&i.includes("http://")||(i="https://".concat(e.server,"/").concat(i.substring(1)))),ee.exec(ne,[i,c,l]),u=ee.exec("SELECT id FROM platform").pop().id,m=ee.exec("SELECT id FROM organization").pop().id,ee.exec(ce,[u,m]);case 6:case"end":return p.stop()}}))},be=function(e,t){var n;t.innerHTML.includes("pushed to branch")?n="commit":t.innerHTML.includes("opened")?n="issue":t.innerHTML.includes("Merge branch")&&(n="pullRequest");var a=t.getElementsByTagName("time")[0].getAttribute("datetime");a=new Date(a);var r=t.getElementsByClassName("event-scope")[0].getElementsByTagName("a")[0].getAttribute("href"),o=function(e,t){var n={};n.repoUrl="https://".concat(e.server,"/").concat(t),n.avatarUrl="https://".concat(e.server,"/").concat(t,"/-/avatar"),n.name=t,n.ownerId=ee.exec("SELECT id FROM member").pop(),n.languagePieId=ee.exec("SELECT id FROM languagePie").pop(),n.ownerId&&(n.ownerId=n.ownerId.id),n.languagePieId&&(n.languagePieId=n.languagePieId.id);var a=ee.exec('SELECT id FROM repository WHERE name="'.concat(n.name,'"'));if(void 0===a||0===a.length){ee.exec(re,[n.avatarUrl,n.repoUrl,n.name,n.ownerId,n.languagePieId]);var r=ee.exec("SELECT id FROM platform").pop().id,o=ee.exec("SELECT id FROM repository").pop().id;ee.exec(le,[r,o])}return n}(e,r=r.substring(1)),s=ee.exec("SELECT id FROM calendar").pop().id;ee.exec(ie,[a,r,o.repoUrl,null,null,null,n,s])},ve=function(e){var t,n,a,r,o,s,i,c,l,u,m,p,d,h,g;return f.a.async((function(E){for(;;)switch(E.prev=E.next){case 0:return"2147483647",t="https://".concat(e.server,"/").concat(e.username,"?limit=").concat("2147483647"),E.next=4,f.a.awrap(de(me(t).then((function(e){return e}))));case 4:for(n=E.sent,a=n.getElementsByClassName("event-item"),r=0,o=Array.from(a);r<o.length;r++)((s=o[r]).innerHTML.includes("pushed to branch")||s.innerHTML.includes("opened")||s.innerHTML.includes("Merge branch"))&&(i=s.getElementsByTagName("time")[0].getAttribute("datetime"),i=new Date(i),c="".concat(i.getFullYear(),"-").concat(i.getMonth()+1,"-").concat(i.getDate()),l=i.getWeekNumber().toString(),u=i.getDay().toString(),m=ee.exec("SELECT id FROM platform").pop().id,p=ee.exec("SELECT year FROM statistic").pop(),d=i.getFullYear(),p||ee.exec(oe,[d,m]),void 0===(h=ee.exec('SELECT total FROM calendar WHERE date="'.concat(c,'"')).pop())||0===h.length?ee.exec(se,[c,l,u,1,null,m]):(g=h.total,g++,ee.exec("\nUPDATE calendar\nSET total = ?\nWHERE date = ? AND platform_id = ?\n",[g,c,m])),be(e,s));case 7:case"end":return E.stop()}}))},Ne=function(e,t){return ee=e,function(e){var t,n,a,r,o,s,i,c;return f.a.async((function(l){for(;;)switch(l.prev=l.next){case 0:return t="https://".concat(e.server,"/").concat(e.username),l.next=3,f.a.awrap(fe(pe(t).then((function(e){return e}))));case 3:n=l.sent,a=n.getElementsByClassName("user-info")[0],r=n.getElementsByClassName("cover-title")[0].innerText,o=n.getElementsByClassName("avatar-holder")[0].getElementsByTagName("a")[0].getAttribute("href"),n.getElementsByClassName("profile-link-holder")[0],s=n.getElementsByTagName("gl-emoji")[0],null,i=new Date(a.getElementsByTagName("span")[1].innerText.split(" ").slice(2).join(" ")),o&&(o.includes("https://")&&o.includes("http://")||(o="https://".concat(e.server,"/").concat(o.substring(1)))),c=new Date(i),ee.exec(te,[e.source,t,o,null,null,null,e.username,r,c,null,s,null]);case 14:case"end":return l.stop()}}))}(t).then((function(){return f.a.async((function(e){for(;;)switch(e.prev=e.next){case 0:return e.t0=f.a,e.t1=Ee(t),e.next=4,f.a.awrap(ve(t));case 4:return e.t2=e.sent,e.t3=e.t1.then.call(e.t1,e.t2),e.next=8,e.t0.awrap.call(e.t0,e.t3);case 8:return e.abrupt("return",e.sent);case 9:case"end":return e.stop()}}))}))},ye=function(e,t){var n=new u.b({introspectionQueryResultData:{__schema:{types:[]}}});return ge=new u.a({fragmentMatcher:n}),he=new l.a({uri:e,headers:{authorization:t}}),new c.a({cache:ge,link:he})},Te=n(45);function Oe(){var e=Object(N.a)(['\n    query\n      {\n        user(login: "','") {\n            ',"\n        }\n      }\n  "]);return Oe=function(){return e},e}function Se(){var e=Object(N.a)(["\n  query getData($username: String!) {\n    user(login: $username) {\n      avatarUrl\n      company\n      createdAt\n      name\n      login\n      email\n      websiteUrl\n      hovercard {\n        contexts {\n          message\n          octicon\n        }\n      }\n      isEmployee\n      isHireable\n      location\n      status {\n        emojiHTML\n        expiresAt\n        message\n        updatedAt\n      }\n      organizations(first: 100) {\n        pageInfo {\n          endCursor\n          hasNextPage\n        }\n        edges {\n          node {\n            name\n            url\n            avatarUrl\n            name\n            membersWithRole(first: 100) {\n              totalCount\n              nodes {\n                name\n                login\n                avatarUrl\n                url\n                projectsUrl\n              }\n            }\n          }\n        }\n      }\n    }\n  }\n"]);return Se=function(){return e},e}var we,Ie=Object(Te.a)(Se()),Le=function(e,t){return Object(Te.a)(Oe(),e,function(e,t){for(var n,a,r=(new Date).getFullYear(),o=new Date(t.getFullYear(),0,2),s=new Date(t.getFullYear()+1,0,1),i="",c=1;o.getFullYear()<=r;)i+=(n=o.toJSON(),a=s.toJSON(),"\n  c".concat(c,': contributionsCollection(from:"').concat(n,'", to:"').concat(a,'" ){\n    contributionYears\n    contributionCalendar{\n        totalContributions\n        weeks{\n          contributionDays{\n            contributionCount\n            date\n            color\n          }\n        }\n      }\n      commitContributionsByRepository {\n        url\n        repository {\n          defaultBranchRef{\n            target{\n              ... on Commit{\n                changedFiles\n                additions\n                deletions\n                committedDate\n                history{\n                  totalCount\n                  pageInfo{\n                    endCursor\n                  }\n                  nodes{\n                    committer{\n                      user{\n                        login\n                      }\n                    }\n                    committedDate\n                  }\n                }\n              }\n            }\n          }\n          openGraphImageUrl\n          name\n          nameWithOwner\n          url\n          owner{\n            avatarUrl\n            login\n            url\n          }\n          languages(first: 50, orderBy: {field: SIZE, direction: DESC}) {\n            totalCount\n            totalSize\n            edges {\n              size\n              node {\n                name\n                color\n              }\n            }\n          }\n        }\n      }\n      issueContributionsByRepository {\n        repository {\n          issues(first:100) {\n            nodes{\n              createdAt\n              author{\n                login\n              }\n            }\n          }\n          openGraphImageUrl\n          name\n          nameWithOwner\n          url\n          owner{\n            avatarUrl\n            login\n            url\n          }\n          languages(first: 50, orderBy: {field: SIZE, direction: DESC}){\n            totalCount\n            totalSize\n            edges {\n              size\n              node {\n                name\n                color\n              }\n            }\n          }\n        }\n      }\n      pullRequestContributionsByRepository {\n        repository {\n          pullRequests(first:100) {\n            nodes{\n              changedFiles\n              additions\n              deletions\n              createdAt\n              author{\n                login\n              }\n            }\n          }\n          openGraphImageUrl\n          name\n          nameWithOwner\n          url\n          owner{\n            avatarUrl\n            login\n            url\n          }\n          languages(first: 50, orderBy: {field: SIZE, direction: DESC}){\n            totalCount\n            totalSize\n            edges {\n              size\n              node {\n                name\n                color\n              }\n            }\n          }\n        }\n      }\n    }\n  ')),o.setFullYear(o.getFullYear()+1),s.setFullYear(s.getFullYear()+1),c++;return i}(0,t))},ke=n(57),Re=!1,Ce="",Ae=0,xe=function(e){e.profile.organizations.edges.forEach((function(e){var t=e.node.avatarUrl,n=e.node.name,a=e.node.url;we.exec(ne,[t,n,a]);var r,o,s=we.exec("SELECT id FROM organization").pop().id,i=we.exec("SELECT id FROM platform").pop().id;we.exec(ce,[i,s]),r=e.node.membersWithRole.nodes,o=s,r.forEach((function(e){var t=e.avatarUrl,n=e.name,a=e.url,r=e.login;we.exec(ae,[t,n,r,a]);var s=we.exec("SELECT id FROM member").pop().id;we.exec("\nINSERT INTO organization_has_member(\n    organization_id,\n    member_id\n)\nVALUES (?,?);\n",[o,s])}))}))},_e=function(e){var t=function(e){var t={};return e.forEach((function(e){var n=new Date(e.date).getFullYear();void 0===t[parseInt(n)]&&(t[parseInt(n)]=[]),t[parseInt(n)].push(e)})),t}(function(e,t){var n=[];return t.forEach((function(t){var a=e.calendar[t.toString()],r=!0,o=!1,s=void 0;try{for(var i,c=a.contributionCalendar.weeks.entries()[Symbol.iterator]();!(r=(i=c.next()).done);r=!0){var l=i.value,u=Object(ke.a)(l,2),m=(u[0],u[1]),p=!0,d=!1,f=void 0;try{for(var h,g=m.contributionDays.entries()[Symbol.iterator]();!(p=(h=g.next()).done);p=!0){var E=h.value,b=Object(ke.a)(E,2),v=(b[0],b[1]);n.push(v)}}catch(N){d=!0,f=N}finally{try{p||null==g.return||g.return()}finally{if(d)throw f}}}}catch(N){o=!0,s=N}finally{try{r||null==c.return||c.return()}finally{if(o)throw s}}})),n}(e,Object.keys(e.calendar).filter((function(e){return e.match(/c[0-9]+/)}))));Object.keys(t).forEach((function(e){var n=t[parseInt(e)],a=e,r=we.exec("SELECT id FROM platform").pop().id;we.exec(oe,[a,r]),n.forEach((function(e){var t=e.contributionCount,n=e.date;if(0!==t)Re?Ae+=t:(Re=!0,Ce=n,Ae=t);else if(0!==Ae){var a=we.exec("SELECT id FROM statistic").pop().id;we.exec("\nINSERT INTO streak(\n    startDate,\n    endDate,\n    total,\n    statistic_id\n)\nVALUES (?,?,?,?);\n",[new Date(Ce),new Date(new Date(n).getTime()-864e5),Ae,a]),Re=!1,Ce="",Ae=0}}))}))},je=function(e){var t=e.repository.owner.login,n=e.repository.owner.avatarUrl,a=e.repository.owner.name,r=e.repository.owner.url;we.exec(ae,[n,a,t,r]),function(e){var t=we.exec("SELECT id FROM member").pop().id,n=e.repository.name,a=e.repository.url,r=e.repository.openGraphImageUrl,o=we.exec("SELECT id FROM languagePie").pop().id;we.exec(re,[r,a,n,t,o]);var s=we.exec("SELECT id FROM repository").pop().id,i=we.exec("SELECT id FROM platform").pop().id;we.exec(le,[i,s])}(e)},Ue=function(e){e.forEach((function(e){if(void 0===we.exec("SELECT url from repository WHERE url=?",[e.repository.url])[0]){var t=e.repository.languages.totalCount,n=e.repository.languages.totalSize;we.exec("\nINSERT INTO languagePie(\n    size,\n    total\n)\nVALUES (?,?);\n",[n,t]),function(e){var t=we.exec("SELECT id FROM languagePie").pop().id;e.repository.languages.edges.forEach((function(e){var n=e.node.name,a=e.size,r=e.node.color;we.exec("\nINSERT INTO languageSlice(\n    name,\n    color,\n    size,\n    pie_id\n)\nVALUES (?,?,?,?);\n",[n,r,a,t])})),je(e)}(e)}}))},De=function(e){var t=Object.keys(e.calendar).filter((function(e){return e.match(/c[0-9]+/)}));we.exec("SELECT username FROM platform").pop().username;t.forEach((function(t){var n=e.calendar[t.toString()],a=[],r=!0,o=!1,s=void 0;try{for(var i,c=n.contributionCalendar.weeks.entries()[Symbol.iterator]();!(r=(i=c.next()).done);r=!0){var l=i.value,u=Object(ke.a)(l,2),m=u[0],p=u[1],d=!0,f=!1,h=void 0;try{for(var g,E=p.contributionDays.entries()[Symbol.iterator]();!(d=(g=E.next()).done);d=!0){var b=g.value,v=Object(ke.a)(b,2),N=v[0],y=v[1],T=y.date,O=T.split("T")[0],S=m,w=N,I=y.contributionCount,L=y.color,k=I;if(I>=0){var R=we.exec("SELECT id FROM platform").pop().id;we.exec(se,[O,S,w,I,L,R]);var C=we.exec("SELECT id FROM calendar").pop().id;k>=0&&a.push({datetime:new Date(T),total:k,calendarId:C})}}}catch(x){f=!0,h=x}finally{try{d||null==E.return||E.return()}finally{if(f)throw h}}}}catch(x){o=!0,s=x}finally{try{r||null==c.return||c.return()}finally{if(o)throw s}}var A=function(e){for(var t=[],n=0;n<e.total;n++)t.push({datetime:e.datetime,repoNameWithOwner:"octocat",repoUrl:"https://github.com/octocat",additions:0,deletions:0,changedFiles:0});!function(e,t,n){e.forEach((function(e){we.exec(ie,[e.datetime,e.repoNameWithOwner,e.repoUrl,e.additions,e.deletions,e.changedFiles,t,n])}))}(t,"codeReviews",e.calendarId)};a.forEach((function(e){A(e)}))}))},Me=function(e,t){we=e,function(e){var t,n;e.profile.status?(t=e.profile.status.message,n=e.profile.status.emojiHTML):(t=null,n=null);var a=e.profile.avatarUrl,r=e.profile.websiteUrl,o=e.profile.company,s=e.profile.email,i=e.profile.name,c=e.profile.createdAt,l=e.profile.location,u=e.profile.login;we.exec(te,["github","https://github.com",a,r,o,s,u,i,c,l,t,n])}(t),xe(t),_e(t),function(e){Object.keys(e.calendar).filter((function(e){return e.match(/c[0-9]+/)})).forEach((function(t){var n=e.calendar[t.toString()].commitContributionsByRepository;Ue(n)}))}(t),De(t)};function Fe(e,t){var n;return f.a.async((function(a){for(;;)switch(a.prev=a.next){case 0:return n=function(e,n){var a,r,o,s,i,c,l,u,m;return f.a.async((function(p){for(;;)switch(p.prev=p.next){case 0:return"https://api.github.com/graphql",a="Bearer ".concat(t.token),r=ye("https://api.github.com/graphql",a),p.next=5,f.a.awrap(r.query({query:Ie,variables:{username:n}}));case 5:return o=p.sent,s=o.data,i=new Date(s.user.createdAt),p.next=10,f.a.awrap(r.query({query:Le(n,i)}));case 10:c=p.sent,l={},u={},Object.values(c.data.user).forEach((function(e){"User"!==e&&e.commitContributionsByRepository.forEach((function(e){e.repository.defaultBranchRef.target.history.totalCount>=100&&(u[e.repository.nameWithOwner]=e),l[e.repository.nameWithOwner]=e}))})),(m={}).profile=o.data.user,m.calendar=c.data.user,Me(e,m);case 18:case"end":return p.stop()}}))},a.next=3,f.a.awrap(n(e,t.username));case 3:case"end":return a.stop()}}))}var Ye=new function(e){var t=new Z.Database(e);return t.exec(Q),t}("data"),Pe=function(e,t){return Ye.exec(e,t)};function ze(e){return f.a.async((function(t){for(;;)switch(t.prev=t.next){case 0:if("github"!==e.source){t.next=5;break}return t.next=3,f.a.awrap(Fe(Ye,e));case 3:t.next=8;break;case 5:if("gitlab"!==e.source){t.next=8;break}return t.next=8,f.a.awrap(Ne(Ye,e));case 8:case"end":return t.stop()}}))}var He=function(e){return e.toISOString().split("T")[0]};var Be=function(e){var t={},n=0;t.weeks=[],t.total=0,t.fromDate=new Date(e[0].date),t.toDate=new Date(e[e.length-1].date);for(var a=0;a<=53;a++){for(var r={contributionDays:[]},o=0;o<=6;o++)void 0!==e[n]&&(t.total+=e[n].total,r.contributionDays.push(e[n])),n++;t.weeks.push(r)}return t},Ge=function(e,t){for(var n={weeks:{},total:0},a=0;a<53;a++){for(var r={contributionDays:{}},o=0;o<=6;o++){var s={};t?e.setDate(e.getDate()+1):e.setDate(e.getDate()-1),s.total=0,s.date=He(new Date(e)),s.color="#ffffff",r.contributionDays[o]=s}n.weeks[a]=r}return n},Ve=function(e){var t=0;return e.weeks.forEach((function(e){e.contributionDays.forEach((function(e){e.total>t&&(t=e.total)}))})),e.weeks.forEach((function(e){e.contributionDays.forEach((function(e){var n=e.total/t;n>.8&&n<=1?e.color="#196127":n>.6&&n<=.8?e.color="#239a3b":n>.4&&n<=.6?e.color="#7bc96f":n>0&&n<=.4?e.color="#c6e48b":0===n&&(e.color="#ebedf0")}))})),e};function We(e){var t=JSON.parse(JSON.stringify(e));for(var n in e){for(var a in e[n].weeks)for(var r in t[n].weeks[a].contributionDays=[],e[n].weeks[a].contributionDays)t[n].weeks[a].contributionDays.push(e[n].weeks[a].contributionDays[r]);t[n].weeks=Object.values(t[n].weeks)}return t}function Je(e){var t,n,a;return f.a.async((function(r){for(;;)switch(r.prev=r.next){case 0:t=function(e,n,a){return f.a.async((function(r){for(;;)switch(r.prev=r.next){case 0:return r.next=2,f.a.awrap(n.apply(void 0,Object($.a)(a)).catch((function(){if(e<=0)throw new Error("Could not fetch data after ".concat(e," retries... Please try again later!"));return t(e-1,n,a)})));case 2:return r.abrupt("return",r.sent);case 3:case"end":return r.stop()}}))},n=0;case 2:if(!(n<e.length)){r.next=10;break}return a=e[n],5,r.next=7,f.a.awrap(t(5,ze,[a]).catch((function(e){throw e})));case 7:n++,r.next=2;break;case 10:case"end":return r.stop()}}))}function Ke(){try{return function(e){var t=e.exec("\nSELECT * FROM platform\n"),n=t[0],a={};return a.avatarUrl=n.avatarUrl,a.company=n.company,a.createdAt=n.createdAt,a.name=n.fullName,a.username=n.username,a.email=n.email,a.websiteUrl=n.websiteUrl,a.status=n.statusMessage,a.statusEmojiHTML=n.statusEmojiHTML,a.isEmployee=!1,a.isHireable=!1,a.location=n.location,a.platforms={},t.forEach((function(e){a.platforms[e.platformName]={platform:e.platformName,username:e.username,url:e.platformUrl}})),a.platforms=Object.values(a.platforms),a}(a)}catch(e){return}}function Xe(){try{return function(e){var t=e.exec("\nSELECT\n  repository.id as rId,\n  repository.avatarUrl as rAvatarUrl,\n  repository.name as rName,\n  repository.languagePie_id as rLanguagePieId,\n  owner.avatarUrl as oAvatarUrl,\n  owner.name as oName,\n  owner.username as oUsername,\n  owner.url as oUrl,\n  member.id as mId,\n  member.avatarUrl as mAvatarUrl,\n  member.name as mName,\n  member.username as mUsername,\n  member.url as mUrl,\n  languagePie.id as lId,\n  languagePie.size as lSize,\n  languagePie.total as lTotal,\n  languageSlice.id as sId,\n  languageSlice.color as sColor,\n  languageSlice.name as sName,\n  languageSlice.size as sSize,\n  languageSlice.pie_id as sPieId\nFROM\n  repository\nLEFT OUTER JOIN \n  member as owner\n    ON owner.id = repository.owner_id\nLEFT OUTER JOIN\n    languagePie\n      ON languagePie.id = repository.languagePie_id\nLEFT OUTER JOIN \n  languageSlice\n      ON languageSlice.pie_id = languagePie.id\nLEFT OUTER JOIN\n  repository_has_member\n    ON repository.id = repository_has_member.repository_id\nLEFT OUTER JOIN\n  member\n    ON member.id = repository_has_member.member_id\n"),n={};return t.forEach((function(e){if(!n[e.rId]){var t={};t.name=e.rName,t.avatarUrl=e.oAvatarUrl,t.url=e.rUrl,t.owner={},t.owner.name=e.oName,t.owner.login=e.oUsername,t.owner.url=e.oUrl,t.languagePie={},t.languagePie.size=e.lSize,t.languagePie.total=e.lTotal,t.languagePie.slices=[],t.members=[],t.memberCount=0,n[e.rId]=t}if(void 0!==e.mId){var a={};a.name=e.mName,a.login=e.mUsername,a.avatarUrl=e.mAvatarUrl,a.url=e.mUrl,a.projectsUrl=null,n[e.rId].memberCount++,n[e.rId].members.push(a)}if(void 0!==e.sId){var r={};r.name=e.sName,r.color=e.sColor,r.size=e.sSize,n[e.rId].languagePie.slices.push(r)}})),Object.values(n)}(a)}catch(e){return}}function qe(){try{return function(e){var t=e.exec("\nSELECT\n  member.id as mId,\n  member.avatarUrl as mAvatarUrl,\n  member.name as mName,\n  member.username as mUsername,\n  member.url as mUrl,\n  organization.id as oId,\n  organization.avatarUrl as oAvatarUrl,\n  organization.name as oName,\n  organization.url as oUrl\nFROM\n  organization\nLEFT OUTER JOIN\n  organization_has_member\n    ON organization.id = organization_has_member.organization_id\nLEFT OUTER JOIN\n  member\n    ON member.id = organization_has_member.member_id\n"),n={};return t.forEach((function(e){if(!n[e.oId]){var t={};t.name=e.oName,t.url=e.oUrl,t.avatarUrl=e.oAvatarUrl,t.memberCount=0,t.members=[],n[e.oId]=t}if(void 0!==e.mId){var a={};a.oid=e.oId,a.name=e.mName,a.login=e.mUsername,a.avatarUrl=e.mAvatarUrl,a.url=e.mUrl,a.projectsUrl=null,n[e.oId].memberCount++,n[e.oId].members.push(a)}})),Object.values(n)}(a)}catch(e){return}}function $e(){try{return function(e){var t=e.exec("\nSELECT\n  languageSlice.id as sId,\n  languageSlice.color as sColor,\n  languageSlice.name as sName,\n  languageSlice.size as sSize,\n  languageSlice.pie_id as sPieId\nFROM\n  languageSlice\n"),n=e.exec("\nSELECT\n  sum(languageSlice.size) as num\nFROM\n  languageSlice\n")[0].num,a={slices:{}};return a.total=n,t.forEach((function(e){if(a.slices[e.sName])a.slices[e.sName].size+=e.sSize,a.slices[e.sName].share=Math.round(a.slices[e.sName].size/n*100*100)/100;else{var t={};t.name=e.sName,t.color=e.sColor,t.size=e.sSize,t.share=Math.round(t.size/n*100*100)/100,a.slices[e.sName]=t}})),a.slices=Object.values(a.slices).sort((function(e,t){return t.size-e.size})),a}(a)}catch(e){return}}function Ze(){try{return function(e){var t=e.exec("\nSELECT\n  calendar.id as cId,\n  calendar.date as cDate,\n  YEAR(contrib.datetime) as cYear,\n  calendar.week as cWeek,\n  calendar.weekday as cWeekday,\n  calendar.color as cColor,\n  contrib.id as ctId,\n  contrib.datetime as ctDatetime,\n  contrib.nameWithOwner as ctNameWithOwner,\n  contrib.repoUrl as ctRepoUrl,\n  contrib.additions as ctAdditions,\n  contrib.deletions as ctDeletions,\n  contrib.changedFiles as ctChangedFiles,\n  contrib.type as ctType\nFROM\n  calendar\nJOIN\n  contrib\n    ON calendar.id = contrib.calendar_id\n"),n=e.exec("\nSELECT \n  MIN(YEAR(date)) as baseYear\nFROM\n  calendar\n")[0].baseYear,a={},r=new Date;n||(n=r.getFullYear());for(var o=n;o<=(new Date).getFullYear();o++){var s=new Date(o,0,1);s.setDate(s.getDate()-s.getDay()-0),a[o]=Ge(s,!0)}r.setDate(r.getDate()+1),t.forEach((function(e){e.cYear&&(a[e.cYear].total++,a[e.cYear].weeks[e.cWeek].contributionDays[e.cWeekday].total++,a[e.cYear].weeks[e.cWeek].contributionDays[e.cWeekday].color=e.cColor)}));var i=We(a)[r.getFullYear()],c=We(a)[r.getFullYear()-1],l=new Date,u=[];i.weeks.reverse().forEach((function(e){e.contributionDays.reverse().forEach((function(e){new Date(e.date)<l&&u.push(e)}))})),void 0!==c&&c.weeks.reverse().forEach((function(e){e.contributionDays.reverse().forEach((function(e){u.length<=371+l.getDay()&&u.push(e)}))}));for(var m=Be(u.reverse()),p=0,d=Object.entries(We(a));p<d.length;p++){var f=d[p],h=Object(ke.a)(f,2),g=h[0],E=h[1];a[g]=Ve(E)}return{years:a,currentYear:Ve(m)}}(a)}catch(e){return}}function Qe(){try{return function(e){var t=e.exec("\nSELECT\n  statistic.id as sId,\n  statistic.year as sYear,\n  streak.id as stId,\n  streak.startDate as stsDate,\n  streak.endDate as steDate,\n  streak.total as stTotal,\n  streak.statistic_id as stsId\nFROM\n  statistic\nLEFT JOIN\n  streak\n    ON statistic.id = streak.statistic_id\n"),n={},a={};e.exec("\nSELECT\n  YEAR(contrib.datetime) as year,\n  count(contrib.id) as num\nFROM\n  contrib\nGROUP BY\n  YEAR(contrib.datetime)\n").forEach((function(e){n[e.year]=e.num})),e.exec("\nSELECT\n  date,\n  total,\n  YEAR(date) as year\nFROM\n  calendar\nWHERE\n  total in (\n    SELECT\n      max(c2.total) as total,\n      YEAR(date)\n    FROM calendar c2\n    GROUP BY YEAR(date)\n  )\n").forEach((function(e){var t={};t.date=e.date,t.total=e.total,a[e.year]=t}));var r={};return t.forEach((function(e){if(!r[e.sYear]){var t={};t.date=a[e.sYear].date,t.total=a[e.sYear].total;var o={streaks:[]};o.busiestDay=t,o.average=Math.round(n[e.sYear]/365*100)/100,o.longestStreak={},o.longestStreak.total=0,o.currentStreak={},o.currentStreak.total=0,r[e.sYear]=o}if(void 0!==e.stId){var s={};s.startDate=e.stsDate,s.endDate=e.steDate,s.total=e.stTotal,r[e.sYear].streaks.push(s);var i=function(e,t){return Math.ceil((t.getTime()-e.getTime())/864e5)},c=i(s.startDate,s.endDate);r[e.sYear].longestStreak.total<=c&&(r[e.sYear].longestStreak.total=c,r[e.sYear].longestStreak.startDate=s.startDate,r[e.sYear].longestStreak.endDate=s.endDate);var l=new Date;s.endDate.getFullYear()===l.getFullYear()&&s.endDate.getMonth()===l.getMonth()&&s.endDate.getDate()===l.getDate()&&(r[e.sYear].currentStreak.startDate=s.startDate,r[e.sYear].currentStreak.endDate=s.endDate,r[e.sYear].currentStreak.total=i(s.startDate,s.endDate))}})),r}(a)}catch(e){return}}function et(){try{return function(e){var t=e.exec("\nSELECT\n  contrib.id as cId,\n  contrib.datetime as cDatetime,\n  contrib.nameWithOwner as cNameWithOwner,\n  contrib.repoUrl as ctRepoUrl,\n  contrib.additions as cAdditions,\n  contrib.deletions as cDeletions,\n  contrib.changedFiles as cChangedFiles,\n  contrib.type as cType,\n  platform.id as pId,\n  platform.platformName as pName\nFROM\n  contrib\nJOIN\n  calendar\n    ON contrib.calendar_id = calendar.id\nJOIN\n  platform\n    ON calendar.platform_id = platform.id\n"),n={platform:{},user:{},contribs:{}};return t.forEach((function(e){if(!n.platform[e.pName]){var a={share:0,count:0};n.platform[e.pName]=a}if(n.platform[e.pName].count++,n.platform[e.pName].share=Math.round(n.platform[e.pName].count/t.length*100*100)/100,!n.user[e.pId]){var r={share:0,count:0};r.name=e.pName,n.user[e.pId]=r}if(n.user[e.pId].count++,n.user[e.pId].share=Math.round(n.user[e.pId].count/t.length*100*100)/100,!n.contribs[e.cType]){var o={share:0,count:0,platform:{},user:{}};n.contribs[e.cType]=o}if(n.contribs[e.cType].count++,n.contribs[e.cType].share=Math.round(n.contribs[e.cType].count/t.length*100*100)/100,!n.contribs[e.cType].platform[e.pName]){var s={share:0,count:0};n.contribs[e.cType].platform[e.pName]=s}if(n.contribs[e.cType].platform[e.pName].count++,n.contribs[e.cType].platform[e.pName].share=Math.round(n.contribs[e.cType].platform[e.pName].count/t.filter((function(t){return t.cType===e.cType})).length*100*100)/100,!n.contribs[e.cType].user[e.pId]){var i={share:0,count:0};i.name=e.pName,n.contribs[e.cType].user[e.pId]=i}n.contribs[e.cType].user[e.pId].count++,n.contribs[e.cType].user[e.pId].share=Math.round(n.contribs[e.cType].user[e.pId].count/t.filter((function(t){return t.cType===e.cType})).length*100*100)/100})),n}(a)}catch(e){return}}var tt="64a37e4846387cfcaea35d83afca3c9c8689628c",nt=function(){var e=(new Date).getTime();return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,(function(t){var n=(e+16*Math.random())%16|0;return e=Math.floor(e/16),("x"===t?n:3&n|8).toString(16)}))}(),at=encodeURIComponent("https://snek.at/redirect"),rt={buildAuthorizeUrl:function(){return"https://github.com/login/oauth/authorize?redirect_uri=".concat(at,"\n        &client_id=").concat("2148629809594d57c113","\n        &client_secret=").concat(tt,"\n        &scope=repo, user:email, read:user, read:org\n        &state=").concat(nt)},extractError:function(e){var t=e.match(/error=([^&]+)/);if(t){var n=t[1],a=e.match(/error_description=([^&]+)/),r=a?a[1]:"";return new Error("Error during login. Reason: ".concat(n," Description: ").concat(r))}},extractSession:function(e){var t,n,a,r,o,s;return f.a.async((function(i){for(;;)switch(i.prev=i.next){case 0:return t=null,n=null,(a=e.match(/code=([^&]+)/))&&(n=a[1]),r=null,(o=e.match(/state=([^&]+)/))&&(r=o[1]),s="".concat("https://cors-anywhere.herokuapp.com/","https://github.com/login/oauth/access_token?code=").concat(n,"\n        &client_secret=").concat(tt,"&client_id=").concat("2148629809594d57c113","&redirect_uri=").concat(at,"&state=").concat(r),i.next=10,f.a.awrap(fetch(s,{headers:{Accept:"application/json","Access-Allow-Credentials":"True","Access-Control-Allow-Methods":"POST","Access-Control-Allow-Origin":"*","Content-Type":"application/json",Vary:"Origin"},method:"POST"}).then((function(e){return f.a.async((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,f.a.awrap(e.json());case 2:return t.abrupt("return",t.sent);case 3:case"end":return t.stop()}}))})).then((function(e){var n;return f.a.async((function(a){for(;;)switch(a.prev=a.next){case 0:return n=e.access_token,a.next=3,f.a.awrap(fetch("https://api.github.com/user?access_token=".concat(n)).then((function(e){return f.a.async((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,f.a.awrap(e.json());case 2:return t.abrupt("return",t.sent);case 3:case"end":return t.stop()}}))})).then((function(e){return t={username:e.login,access_token:n}})));case 3:case"end":return a.stop()}}))})));case 10:return i.abrupt("return",t);case 11:case"end":return i.stop()}}))}},ot={buildAuthorizeUrl:function(){return"https://snek.at/gitlab"},extractError:function(e){var t=e.match(/error=([^&]+)/);if(t){var n=t[1],a=e.match(/error_description=([^&]+)/),r=a?a[1]:"";return new Error("Error during login. Reason: ".concat(n," Description: ").concat(r))}},extractSession:function(e){var t,n,a,r,o;return f.a.async((function(s){for(;;)switch(s.prev=s.next){case 0:return t=null,n=null,(a=e.match(/username=([^&]+)/))&&(n=a[1].replace(/__/g,".")),(r=e.match(/server=([^&]+)/))&&(t=r[1].replace(/__/g,".")),o={server:t,username:n},s.abrupt("return",o);case 8:case"end":return s.stop()}}))}},st=n(160),it=n(562),ct=n(74);function lt(){var e=Object(N.a)(['\n  mutation register($token: String!, $values: GenericScalar!) {\n    registrationFormPage(token: $token, url: "/registration", values: $values) {\n      result\n      errors {\n        name\n        errors\n      }\n    }\n  }\n']);return lt=function(){return e},e}var ut=Object(Te.a)(lt()),mt=function(e){function t(){var e,n;Object(h.a)(this,t);for(var a=arguments.length,r=new Array(a),s=0;s<a;s++)r[s]=arguments[s];return(n=Object(E.a)(this,(e=Object(b.a)(t)).call.apply(e,[this].concat(r)))).state={email:"",password:"",password1:"",username:"",server:"",oAuthGitHubButton:!0,oAuthGitHubData:null,AuthGitLabButton:!0,sourceList:[],customUsername:!1,usernames:[]},n.addToUsernames=function(e){var t=n.state.usernames;t.includes(e)||(t.push(e),n.setState({usernames:t}))},n.changeHandler=function(e){n.setState(Object(p.a)({},e.target.name,e.target.value))},n.connectGitHub=function(){var e;return f.a.async((function(t){for(;;)switch(t.prev=t.next){case 0:return n.setState({oAuthGitHubButton:!1}),t.next=3,f.a.awrap(st.a.acquireTokenAsync(rt));case 3:e=t.sent,n.setState({oAuthGitHubButton:!0},(function(){return n.pushToSourceList("github",e.username,"github.com",e.access_token)}));case 5:case"end":return t.stop()}}))},n.connectGitLab=function(){var e;return f.a.async((function(t){for(;;)switch(t.prev=t.next){case 0:return n.setState({AuthGitLabButton:!1}),t.next=3,f.a.awrap(st.a.acquireTokenAsync(ot));case 3:e=t.sent,n.setState({AuthGitLabButton:!0},(function(){return n.pushToSourceList("gitlab",e.username,e.server,e.token)}));case 5:case"end":return t.stop()}}))},n.pushToSourceList=function(e,t,a,r){var o=n.state.sourceList;n.addToUsernames(t),o.push({id:Math.random()*t.length+e.length,source:e,username:t,server:a,token:r}),n.setState({sourceList:o,username:n.state.username?n.state.username:o[0].username})},n.removeSource=function(e){var t=n.state.sourceList.filter((function(t){return t.id!==e}));n.setState({sourceList:t})},n.logMeIn=function(e){"Enter"===e.key&&(e.preventDefault(),e.stopPropagation(),n.handleSubmit())},n.handleUserNamePick=function(e){n.setState({username:e})},n.handleSubmit=function(){var e,t;return f.a.async((function(a){for(;;)switch(a.prev=a.next){case 0:e=n.props.token,t={},Je(n.state.sourceList).then((function(){Ze(),Qe(),Xe()})).then((function(){t={logged:!0,contrib:Qe(),contribCalendar:Ze(),contribTypes:et(),user:Ke(),orgs:qe(),languages:$e(),repos:Xe()}})).then((function(){var a={sources:JSON.stringify(n.state.sourceList),username:n.state.username,email:n.state.email,password:Object(q.sha256)(n.state.password),platform_data:JSON.stringify(t)};n.props.register({variables:{token:e,values:a}}).then((function(e){"FAIL"===e.message?n.notify("warn","All fields have to be filled!"):n.notify("success"," Welcome to SNEK!")})).catch((function(e){e.message.includes("Authentication required")?n.notify("success"," Welcome to SNEK!"):e.message.includes("Duplicate entry")?n.notify("warn"," Username already taken!"):n.notify("error","Something went wrong!")}))}));case 3:case"end":return a.stop()}}))},n.notify=function(e,t){"success"===e&&T.J.success(o.a.createElement("div",null,o.a.createElement(T.n,{icon:"lock-open",className:"text ml-2 cursor-pointer"}),t)),"error"===e&&T.J.error(o.a.createElement("div",null,o.a.createElement(T.n,{icon:"lock",className:"text ml-2 cursor-pointer"}),t)),"warn"===e&&T.J.warn(o.a.createElement("div",null,o.a.createElement(T.n,{icon:"exclamation-triangle",className:"text ml-2 cursor-pointer"}),t))},n}return Object(v.a)(t,e),Object(g.a)(t,[{key:"render",value:function(){var e=this;return o.a.createElement(T.f,{id:"register",className:"text-dark"},o.a.createElement(T.I,{hideProgressBar:!0,newestOnTop:!0,autoClose:5e3}),o.a.createElement(T.g,null,o.a.createElement("h2",null,"Join us"),o.a.createElement(T.p,{label:"Email",type:"email",name:"email",outline:!0,value:this.state.email,onChange:this.changeHandler,size:"lg"}),o.a.createElement("div",null,o.a.createElement("div",null,o.a.createElement("p",{className:"lead"},"Connect your work"),o.a.createElement("small",null,"You can connect multiple accounts - even from the same platform.")),o.a.createElement(T.H,{placement:"bottom"},o.a.createElement(T.e,{floating:!0,color:"orange",className:"mx-1",onClick:this.connectGitLab,disabled:!this.state.AuthGitLabButton},o.a.createElement(T.n,{fab:!0,icon:"gitlab"})),o.a.createElement("div",null,"Link GitLab account")),o.a.createElement(T.H,{placement:"bottom"},o.a.createElement(T.e,{floating:!0,social:"git",className:"mx-1",onClick:this.connectGitHub,disabled:!this.state.oAuthGitHubButton},o.a.createElement(T.n,{fab:!0,icon:"github"})),o.a.createElement("div",null,"Link GitHub account")),o.a.createElement(T.H,{placement:"bottom"},o.a.createElement(T.e,{floating:!0,social:"blue",className:"mx-1",disabled:!0},o.a.createElement(T.n,{fab:!0,icon:"bitbucket"})),o.a.createElement("div",null,"Link Bitbucket account"))),o.a.createElement("div",null,o.a.createElement(T.q,null,this.state.sourceList.map((function(t,n){return o.a.createElement(T.r,{className:"list-item-"+t.source,key:n},o.a.createElement("div",null,o.a.createElement(T.n,{fab:!0,icon:t.source,className:"company-icon"}),t.username,o.a.createElement(T.z,{placement:"right",domElement:!0,clickable:!0,popover:!0,tag:"span",id:"popper1"},o.a.createElement("span",null,o.a.createElement(T.n,{icon:"check",className:"text-success ml-2 cursor-pointer"})),o.a.createElement("div",null,o.a.createElement(T.B,null,"Verified"),o.a.createElement(T.A,null,o.a.createElement(T.C,{className:"justify-content-center align-items-center m-0"},o.a.createElement(T.j,{size:"auto",className:"p-0 text-success"},o.a.createElement(T.n,{icon:"award",size:"3x"})),o.a.createElement(T.j,{className:"p-0 pl-3"},"This source has been ",o.a.createElement("strong",{className:"text-success"},"verified")," by logging into it.")))))),o.a.createElement(T.n,{icon:"times",className:"close-icon",onClick:function(){return e.removeSource(t.id)}}))})))),this.state.sourceList.length>0&&o.a.createElement("div",{className:"pt-4"},o.a.createElement("p",{className:"lead"},"Choose your username"),this.state.usernames.map((function(t,n){return o.a.createElement(T.p,{key:n,onClick:function(n){return e.handleUserNamePick(t)},checked:e.state.username===t,label:t,type:"radio",id:"radio"+n})}))),o.a.createElement(T.p,{label:"Password",type:"password",name:"password",outline:!0,value:this.state.password,onChange:this.changeHandler,size:"lg"}),o.a.createElement(T.p,{label:"Repeat password",type:"password",name:"password2",outline:!0,value:this.state.password2,onKeyDown:this.logMeIn,onChange:this.changeHandler,size:"lg"}),o.a.createElement(T.e,{color:"success",className:"w-100 py-3 font-weight-bold mx-0",onClick:this.handleSubmit},"Sign up for SNEK")),o.a.createElement(T.h,null))}}]),t}(o.a.Component),pt=ct(Object(it.a)(ut,{name:"register"}))(mt);function dt(){var e=Object(N.a)(["\n  mutation tokenAuth($username: String!, $password: String!){\n    tokenAuth(username:$username,password:$password){\n      token\n    }\n  }\n"]);return dt=function(){return e},e}var ft=Object(Te.a)(dt()),ht=function(e){function t(){var e,n;Object(h.a)(this,t);for(var a=arguments.length,r=new Array(a),s=0;s<a;s++)r[s]=arguments[s];return(n=Object(E.a)(this,(e=Object(b.a)(t)).call.apply(e,[this].concat(r)))).state={username:"",password:""},n.changeHandler=function(e){n.setState(Object(p.a)({},e.target.name,e.target.value))},n.handleSubmit=function(){n.props.login({variables:{username:n.state.username,password:Object(q.sha256)(n.state.password)}}).then((function(e){var t=e.data;t.tokenAuth&&t.tokenAuth.token&&(n.props.loginHandler(t.tokenAuth.token),n.notify("success"," Successfull login!"))})).catch((function(e){n.notify("error",e.message.split(":")[1])}))},n.notify=function(e,t){"success"===e&&T.J.success(o.a.createElement("div",null,o.a.createElement(T.n,{icon:"lock-open",className:"text ml-2 cursor-pointer"}),t)),"error"===e&&T.J.error(o.a.createElement("div",null,o.a.createElement(T.n,{icon:"lock",className:"text ml-2 cursor-pointer"}),t)),"warn"===e&&T.J.warn(o.a.createElement("div",null,o.a.createElement(T.n,{icon:"exclamation-triangle",className:"text ml-2 cursor-pointer"}),t))},n.logMeIn=function(e){"Enter"===e.key&&(e.preventDefault(),e.stopPropagation(),n.handleSubmit())},n}return Object(v.a)(t,e),Object(g.a)(t,[{key:"render",value:function(){return o.a.createElement(T.f,{id:"login",className:"text-dark"},o.a.createElement(T.I,{hideProgressBar:!0,newestOnTop:!0,autoClose:5e3}),o.a.createElement(T.g,null,o.a.createElement("h2",null,"Sign in"),o.a.createElement(T.p,{label:"Username",type:"text",name:"username",outline:!0,value:this.state.username,onChange:this.changeHandler,onKeyDown:this.logMeIn,size:"lg"}),o.a.createElement(T.p,{label:"Password",type:"password",name:"password",outline:!0,value:this.state.password,onChange:this.changeHandler,onKeyDown:this.logMeIn,size:"lg"}),o.a.createElement(T.e,{color:"success",className:"w-100 py-3 font-weight-bold mx-0",onClick:this.handleSubmit},"Sign in")))}}]),t}(o.a.Component),gt=ct(Object(it.a)(ft,{name:"login"}))(Object(it.b)(ht)),Et=(n(556),["engineers","programmers","developers","entrepreneurs","students","teachers","sneks"]),bt=function(e){function t(e){var n;return Object(h.a)(this,t),(n=Object(E.a)(this,Object(b.a)(t).call(this,e))).logMeIn=function(e){localStorage.setItem("jwt_snek",e),n.props.login(e)},n}return Object(v.a)(t,e),Object(g.a)(t,[{key:"render",value:function(){var e=this.props.globalStore;return e.data.logged?o.a.createElement(U.a,{to:"/me"}):e.data.loaded?o.a.createElement("div",{id:"landing",className:"py-5"},o.a.createElement(T.l,null,o.a.createElement(T.C,{className:""},o.a.createElement(T.j,{md:"6",className:"pt-5"},o.a.createElement("h1",{className:"mt-5"},"Built for ",o.a.createElement(z,{scope:Et}))),o.a.createElement(T.j,{md:"6"},e.data.pageLogin?o.a.createElement(gt,{token:e.data.token,loginHandler:this.logMeIn}):o.a.createElement(pt,{token:e.data.token}))))):o.a.createElement("p",null,"Loading...")}}]),t}(o.a.Component),vt=function(e){function t(){var e,n;Object(h.a)(this,t);for(var a=arguments.length,r=new Array(a),s=0;s<a;s++)r[s]=arguments[s];return(n=Object(E.a)(this,(e=Object(b.a)(t)).call.apply(e,[this].concat(r)))).state={username:"",server:""},n.changeHandler=function(e){n.setState(Object(p.a)({},e.target.name,e.target.value))},n.handleSubmit=function(){""!==n.state.username?""!==n.state.server?(n.state.username=n.state.username.replace(/\./g,"__"),n.state.server=n.state.server.replace(/\./g,"__"),window.open("https://snek.at/redirect?server=".concat(n.state.server,"&username=").concat(n.state.username),"_self")):n.notify("warn","Enter a server!"):n.notify("warn","Enter a username!")},n.notify=function(e,t){"success"===e&&T.J.success(o.a.createElement("div",null,o.a.createElement(T.n,{icon:"lock-open",className:"text ml-2 cursor-pointer"}),t)),"error"===e&&T.J.error(o.a.createElement("div",null,o.a.createElement(T.n,{icon:"lock",className:"text ml-2 cursor-pointer"}),t)),"warn"===e&&T.J.warn(o.a.createElement("div",null,o.a.createElement(T.n,{icon:"exclamation-triangle",className:"text ml-2 cursor-pointer"}),t))},n}return Object(v.a)(t,e),Object(g.a)(t,[{key:"render",value:function(){return o.a.createElement(T.f,{id:"gitlab",className:"text-dark"},o.a.createElement(T.I,{hideProgressBar:!0,newestOnTop:!0,autoClose:5e3}),o.a.createElement(T.g,null,o.a.createElement("h2",null,"GitLab"),o.a.createElement(T.p,{label:"Username",type:"text",name:"username",outline:!0,size:"lg",value:this.state.username,onChange:this.changeHandler}),o.a.createElement(T.p,{label:"Server",type:"text",name:"server",outline:!0,size:"lg",value:this.state.server,onChange:this.changeHandler}),o.a.createElement(T.e,{color:"success",className:"w-100 py-3 font-weight-bold mx-0",onClick:this.handleSubmit},"Sign in")))}}]),t}(o.a.Component),Nt=function(e){function t(){return Object(h.a)(this,t),Object(E.a)(this,Object(b.a)(t).apply(this,arguments))}return Object(v.a)(t,e),Object(g.a)(t,[{key:"render",value:function(){var e=this;return o.a.createElement(U.d,null,o.a.createElement(U.b,{exact:!0,path:"/",component:function(t){return o.a.createElement(bt,Object.assign({globalStore:e.props,login:e.props.login},t))}}),o.a.createElement(U.b,{exact:!0,path:"/settings",component:V}),o.a.createElement(U.b,{exact:!0,path:"/me",component:function(t){return o.a.createElement(X,Object.assign({globalStore:e.props},t))}}),o.a.createElement(U.b,{exact:!0,path:"/redirect",component:B}),o.a.createElement(U.b,{exact:!0,path:"/gitlab",component:vt}),o.a.createElement(U.b,{exact:!0,path:"/about",component:function(){return window.location="https://www.aichner-christian.com/about"}}),o.a.createElement(U.b,{render:function(){return o.a.createElement("h1",null,"Not Found")}}))}}]),t}(o.a.Component);function yt(){var e=Object(N.a)(['\n    mutation tokenAuth{\n        tokenAuth(username:"cisco",password:"ciscocisco"){\n            token\n        }\n    }\n']);return yt=function(){return e},e}function Tt(){var e=Object(N.a)(["\n  mutation refresh($token: String!) {\n    refreshToken(token: $token) {\n      payload\n      token\n    }\n  }\n"]);return Tt=function(){return e},e}function Ot(){var e=Object(N.a)(["\n  query login($token: String!){\n  user: me(token: $token){\n      username\n      registrationData\n    }\n  }\n"]);return Ot=function(){return e},e}function St(){var e=Object(N.a)(["\n  mutation verify($token: String!) {\n      verifyToken(token: $token) {\n      payload\n      }\n  }\n"]);return St=function(){return e},e}var wt=Object(Te.a)(St()),It=Object(Te.a)(Ot()),Lt=Object(Te.a)(Tt()),kt=Object(Te.a)(yt()),Rt=function(e){function t(){var e,n;Object(h.a)(this,t);for(var a=arguments.length,r=new Array(a),o=0;o<a;o++)r[o]=arguments[o];return(n=Object(E.a)(this,(e=Object(b.a)(t)).call.apply(e,[this].concat(r)))).state={contrib:null,contribCalendar:null,contribTypes:null,user:null,languages:null,repos:null,token:"",loaded:!1,logged:!1},n.componentDidMount=function(){if(n.setState({contrib:null,contribCalendar:null,contribTypes:null,user:null,languages:null,repos:null,pageLogin:!1}),null!==localStorage.getItem("jwt_snek"))try{n._verifyToken(),setInterval((function(){return f.a.async((function(e){for(;;)switch(e.prev=e.next){case 0:n._refreshToken();case 1:case"end":return e.stop()}}))}),12e4)}catch(e){}else n._loginUser()},n._verifyToken=function(){n.props.verify({variables:{token:localStorage.getItem("jwt_snek")}}).then((function(e){var t=e.data;void 0!==t&&null!==t.verifyToken&&n._isLogged(t.verifyToken.payload.exp,t.verifyToken.payload.origIat,localStorage.getItem("jwt_snek"))})).catch((function(e){}))},n._loginUser=function(){n.props.login().then((function(e){var t=e.data;void 0!==t&&n._setLogged(t.tokenAuth.token)})).catch((function(e){}))},n._setLogged=function(e){n.setState({token:e,loaded:!0},(function(){return localStorage.setItem("jwt_snek",e)})),n.handleLogin()},n._isLogged=function(e,t,a){~~(Date.now()/1e3)>e?n._refeshToken(a):n._setLogged(a)},n._refreshToken=function(){n.props.refresh({variables:{token:localStorage.getItem("jwt_token")}}).then((function(e){var t=e.data;void 0!==t&&localStorage.setItem("jwt_snek",t.refreshToken.token)})).catch((function(e){}))},n.handleChangeState=function(e,t){n.setState(Object(p.a)({},e,t))},n.handleLogin=function(e){return f.a.async((function(e){for(;;)switch(e.prev=e.next){case 0:n.props.client.query({query:It,variables:{token:localStorage.getItem("jwt_snek")}}).then((function(e){var t=e.data;if(t){var a=JSON.parse(t.user.registrationData),r=a.platform_data.replace(/'/g,'"'),o=JSON.parse(r),s=a.sources.replace(/'/g,'"'),i=JSON.parse(s);n.setState({logged:!0,contrib:o.contrib,contribCalendar:o.contribCalendar,contribTypes:o.contribTypes,user:o.user,orgs:o.orgs,languages:o.languages,repos:o.repos}),Je(i).then((function(){return f.a.async((function(e){for(;;)switch(e.prev=e.next){case 0:Ze(),Qe(),Xe();case 3:case"end":return e.stop()}}))})).then((function(){return f.a.async((function(e){for(;;)switch(e.prev=e.next){case 0:n.setState({logged:!0,contrib:Qe(),contribCalendar:Ze(),contribTypes:et(),user:Ke(),orgs:qe(),languages:$e(),repos:Xe()});case 1:case"end":return e.stop()}}))}))}})).catch((function(e){}));case 1:case"end":return e.stop()}}))},n}return Object(v.a)(t,e),Object(g.a)(t,[{key:"render",value:function(){return o.a.createElement(y.a,null,o.a.createElement("div",{className:"flyout"},o.a.createElement(M,{changeState:this.handleChangeState,data:this.state}),o.a.createElement("main",null,o.a.createElement(Nt,{data:this.state,changeState:this.handleChangeState,login:this.handleLogin})),o.a.createElement(F,null)))}}]),t}(o.a.Component),Ct=ct(Object(it.a)(wt,{name:"verify"}),Object(it.a)(Lt,{name:"refresh"}),Object(it.a)(kt,{name:"login"}))(Object(it.b)(Rt)),At=Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));function xt(e){navigator.serviceWorker.register(e).then((function(e){e.onupdatefound=function(){var t=e.installing;t.onstatechange=function(){"installed"===t.state&&navigator.serviceWorker.controller}}})).catch((function(e){}))}var _t=Object(l.b)({uri:"https://engine.snek.at/api/graphiql"}),jt=new c.a({link:_t,cache:new u.a});i.a.render(o.a.createElement(m.b,{client:jt},o.a.createElement(Ct,null)),document.getElementById("root")),function(){if("serviceWorker"in navigator){if(new URL(".",window.location).origin!==window.location.origin)return;window.addEventListener("load",(function(){var e="".concat(".","/service-worker.js");At?function(e){fetch(e).then((function(t){404===t.status||-1===t.headers.get("content-type").indexOf("javascript")?navigator.serviceWorker.ready.then((function(e){e.unregister().then((function(){window.location.reload()}))})):xt(e)})).catch((function(){}))}(e):xt(e)}))}}()}},[[250,1,2]]]);
//# sourceMappingURL=main.14aa594a.chunk.js.map