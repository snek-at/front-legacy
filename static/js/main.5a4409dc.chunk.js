(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{240:function(e,t,n){e.exports=n(531)},249:function(e,t,n){},414:function(e,t,n){},415:function(e,t,n){},416:function(e,t,n){},417:function(e,t,n){},521:function(e,t,n){},522:function(e,t,n){},523:function(e,t,n){},524:function(e,t,n){},530:function(e,t,n){},531:function(e,t,n){"use strict";n.r(t);var a={};n.r(a),n.d(a,"exec",function(){return Be}),n.d(a,"fill",function(){return Ve});var r=n(0),o=n.n(r),i=n(22),s=n.n(i),c=(n(245),n(246),n(247),n(248),n(249),n(36)),l=n(60),u=n(52),m=n(18),p=n(35),d=n(8),f=n.n(d),h=n(20),g=n(13),E=n(14),b=n(16),v=n(15),N=n(17),O=n(43),y=n(42),T=n(4),S=(n(414),function(e){function t(){var e,n;Object(g.a)(this,t);for(var a=arguments.length,r=new Array(a),o=0;o<a;o++)r[o]=arguments[o];return(n=Object(b.a)(this,(e=Object(v.a)(t)).call.apply(e,[this].concat(r)))).state={activeItemInnerPills:0,activeSubItem:0,activeHorizontalItem:0},n.toggleOuterPills=function(e){return function(t){n.state.activeItemInnerPills!==e&&n.setState({activeItemInnerPills:e})}},n.toggleSub=function(e){return function(t){n.state.activeSubItem!==e&&n.setState({activeSubItem:e})}},n.toggleHorizontal=function(e){return function(t){n.state.activeHorizontalItem!==e&&n.setState({activeHorizontalItem:e})}},n}return Object(N.a)(t,e),Object(E.a)(t,[{key:"render",value:function(){var e=this;return this.props.vertical?o.a.createElement(T.A,{id:"tabcontainer"},o.a.createElement(T.i,{md:"3"},o.a.createElement(T.q,{pills:!0,color:"primary",className:"flex-column"},this.props.settings.map(function(t,n){return o.a.createElement(T.r,{key:n},o.a.createElement(T.s,{to:"#",active:e.state.activeItemInnerPills===n,onClick:e.toggleOuterPills(n),className:"text-left"},o.a.createElement(T.m,{icon:t.icon,className:"mr-2"})," ",t.title))}))),o.a.createElement(T.i,{md:"9"},o.a.createElement(T.B,{activeItem:this.state.activeItemInnerPills},this.props.settings&&this.props.settings.map(function(t,n){return o.a.createElement(o.a.Fragment,null,o.a.createElement(T.C,{tabId:n,key:n},o.a.createElement(T.q,{className:"nav-tabs mt-5"},t.subtitles&&t.subtitles.map(function(t,n){return o.a.createElement(T.r,null,o.a.createElement(T.s,{to:"#",active:e.state.activeSubItem===n,onClick:e.toggleSub(n),role:"tab"},t.title))})),o.a.createElement(T.B,{activeItem:e.state.activeSubItem})))})))):this.props.horizontal?o.a.createElement(o.a.Fragment,null,o.a.createElement(T.q,{className:"nav-tabs"},this.props.items&&this.props.items.map(function(t,n){return t.visible?o.a.createElement(T.r,{key:n},o.a.createElement(T.s,{to:"#",active:e.state.activeHorizontalItem===n,onClick:e.toggleHorizontal(n),role:"tab"},t.title,t.notification&&o.a.createElement(T.c,{pill:!0,color:"danger"}," "),t.pill&&o.a.createElement(T.c,{className:"ml-2",pill:!0,color:"light"},t.pill))):null})),o.a.createElement(T.B,{activeItem:this.state.activeHorizontalItem},this.props.children)):null}}]),t}(o.a.Component)),w=function(e){function t(){return Object(g.a)(this,t),Object(b.a)(this,Object(v.a)(t).apply(this,arguments))}return Object(N.a)(t,e),Object(E.a)(t,[{key:"render",value:function(){return o.a.createElement(T.b,{className:"mx-auto white"},o.a.createElement("img",{src:this.props.url,alt:this.props.alt,className:"rounded-circle img-fluid"}))}}]),t}(o.a.Component),I=(n(415),function(e){function t(){return Object(g.a)(this,t),Object(b.a)(this,Object(v.a)(t).apply(this,arguments))}return Object(N.a)(t,e),Object(E.a)(t,[{key:"render",value:function(){var e=this.props,t=e.status,n=e.name,a=e.company,r=e.location,i=e.email,s=e.website,c=(e.accounts,e.platforms,e.organisations),l=!1,u=!1,m=!1;return o.a.createElement(T.f,{id:"socialdata"},o.a.createElement("h4",{className:"font-weight-bold mb-4"},n),t&&(t.message||t.icon)&&o.a.createElement(o.a.Fragment,null,o.a.createElement("hr",null),t.icon&&o.a.createElement("div",{dangerouslySetInnerHTML:{__html:t.icon}}),t.message&&o.a.createElement("p",{className:"dark-grey-text"},t.message)),(a||r||i||s)&&o.a.createElement("hr",null),o.a.createElement("div",{className:"vcard text-left"},a&&o.a.createElement("span",null,o.a.createElement(T.m,{icon:"building"}),a),r&&o.a.createElement("span",null,o.a.createElement(T.m,{icon:"map-marker-alt"}),r),i&&o.a.createElement("a",{href:"mailto:"+i},o.a.createElement("span",null,o.a.createElement(T.m,{icon:"envelope"}),i)),s&&o.a.createElement("a",{href:"https://"+s,target:"_blank",rel:"noopener noreferrer"},o.a.createElement("span",null,o.a.createElement(T.m,{icon:"link"}),s)),o.a.createElement("div",{className:"platform-list my-3 py-3"},u&&o.a.createElement(T.m,{fab:!0,icon:"gitlab",size:"lg"}),l&&o.a.createElement(T.m,{fab:!0,icon:"github",size:"lg"}),m&&o.a.createElement(T.m,{fab:!0,icon:"bitbucket",size:"lg"})),o.a.createElement("div",{className:"organisation-list my-3 pb-3"},c.map(function(e,t){return o.a.createElement("a",{href:e.url,target:"_blank",rel:"noopener noreferrer"},o.a.createElement("img",{src:e.avatarUrl,alt:e.name+" logo"}))})),o.a.createElement(_,{languages:this.props.languages})))}}]),t}(o.a.Component));function k(e,t){var n=function(e){3===(e=e.replace(/^\s*#|\s*$/g,"")).length&&(e=e.replace(/(.)/g,"$1$1"));var t=parseInt(e.substr(0,2),16)/255,n=parseInt(e.substr(2,2),16)/255,a=parseInt(e.substr(4,2),16)/255,r=Math.max(t,n,a),o=Math.min(t,n,a),i=r-o,s=(r+o)/2,c=0,l=0;c=0===i?0:r===t?(n-a)/i%6*60:r===n?60*((a-t)/i+2):60*((t-n)/i+4);l=0===i?0:i/(1-Math.abs(2*s-1));return{h:c,s:l,l:s}}(e);return n.h+=t,n.h>360?n.h-=360:n.h<0&&(n.h+=360),function(e){var t,n,a,r=e.h,o=e.s,i=e.l,s=(1-Math.abs(2*i-1))*o,c=s*(1-Math.abs(r/60%2-1)),l=i-s/2;r<60?(t=s,n=c,a=0):r<120?(t=c,n=s,a=0):r<180?(t=0,n=s,a=c):r<240?(t=0,n=c,a=s):r<300?(t=c,n=0,a=s):(t=s,n=0,a=c);return t=L(t,l),n=L(n,l),a=L(a,l),function(e,t,n){return"#"+((1<<24)+(e<<16)+(t<<8)+n).toString(16).slice(1)}(t,n,a)}(n)}function L(e,t){return(e=Math.floor(255*(e+t)))<0&&(e=0),e}n(416);var R=[1,2,3,4,5,6,7,8,9,10,11,12,13],C=function(e){function t(e){var n;return Object(g.a)(this,t),(n=Object(b.a)(this,Object(v.a)(t).call(this,e))).updateDimensions=function(){n.setState({width:n.myInput.current.offsetWidth})},n.componentDidMount=function(){window.addEventListener("resize",n.updateDimensions);var e=n.props.calendar.currentYear;n.setState({width:n.myInput.current.offsetWidth,contributionsList:e},function(){return n.countContribs()})},n.cycleHue=function(){n.state.hue>365&&n.setState({hue:0}),n.setState({hue:n.state.hue+1})},n.countContribs=function(){return n.state.contributionsList?n.state.contributionsList.totalContributions:null},n.getEachMonth=function(e){var t=new Array,n=(new Date).getMonth();return t[0]="Jan",t[1]="Feb",t[2]="Mar",t[3]="Apr",t[4]="May",t[5]="Jun",t[6]="Jul",t[7]="Aug",t[8]="Sep",t[9]="Oct",t[10]="Nov",t[11]="Dec",t[12]="Jan",t[13]="Feb",t[14]="Mar",t[15]="Apr",t[16]="May",t[17]="Jun",t[18]="Jul",t[19]="Aug",t[20]="Sep",t[21]="Oct",t[22]="Nov",t[23]="Dec",t[n+e]},n.myInput=o.a.createRef(),n.state={width:0,hue:0},n}return Object(N.a)(t,e),Object(E.a)(t,[{key:"componentWillUnmount",value:function(){window.removeEventListener("resize",this.updateDimensions)}},{key:"render",value:function(){var e=this;return o.a.createElement("div",{id:"calendar2d"},o.a.createElement("div",{className:"text-right"},o.a.createElement("h3",{className:"font-weight-bold d-inline-block"},this.countContribs()),o.a.createElement("span",null," contributions in the last year")),o.a.createElement(T.A,{className:"text-center"},R.map(function(t,n){return o.a.createElement(T.i,{size:"months",key:n},o.a.createElement("small",null,e.getEachMonth(n)))})),o.a.createElement("div",{ref:this.myInput},o.a.createElement("svg",{className:"calendar",height:this.state.width/53*7},this.state.contributionsList&&this.state.contributionsList.weeks.map(function(t,n){return t.contributionDays.map(function(a,r){return 0===n?o.a.createElement("rect",{key:n+"-"+r,y:e.state.width/53*7+e.state.width/53*r-t.contributionDays.length*(e.state.width/53),x:0,width:e.state.width/53,height:e.state.width/53,"data-data":a.date,"data-count":a.total,fill:k(a.color,e.state.hue)}):o.a.createElement("rect",{key:n+"-"+r,y:e.state.width/53*r,x:e.state.width/53*n,width:e.state.width/53,height:e.state.width/53,"data-data":a.date,"data-count":a.total,fill:k(a.color,e.state.hue)})})}))))}}]),t}(o.a.Component),A=n(44),x=n.n(A),j=(n(417),function(e){function t(e){var a;return Object(g.a)(this,t),(a=Object(b.a)(this,Object(v.a)(t).call(this,e))).updateDimensions=function(){a.setState({width:a.myInput.current.offsetWidth})},a.componentDidMount=function(){window.addEventListener("resize",a.updateDimensions),a.setState({width:a.myInput.current.offsetWidth},function(){return a.renderIsometrics()})},a.renderIsometrics=function(){var e=n(418),t=new e.Point(70,70),r=new e.PixelView(a.context,t),o=a.props.calendar.currentYear,i=0,s=[];o.weeks.map(function(e,t){s[t]=[],e.contributionDays.map(function(e,n){e.total>i&&(i=e.total),s[t][n]=e})}),s.map(function(t,n){t.map(function(t,a){var o=3;i>0&&(o+=parseInt(100/i*t.total));var s=n,c=a,l=t.color,u=(new e.CubeColor).getByHorizontalColor(parseInt("0x"+l.replace("#",""))),m=new e.CubeDimension(10,10,o),p=new e.Point3D(10*s,10*c,0),d=new e.Cube(m,u,!1);r.renderObject(d,p)})})},a.myInput=o.a.createRef(),a.state={width:0,hue:0},a}return Object(N.a)(t,e),Object(E.a)(t,[{key:"componentWillUnmount",value:function(){window.removeEventListener("resize",this.updateDimensions)}},{key:"renderTopStats",value:function(){var e,t,n,a,r,o=this.props.contrib[2019],i=this.props.calendar.currentYear;return e=i.total,t=o.average,n=x()(i.fromDate).format("MMM DD, YYYY")+" - "+x()(i.toDate).format("MMM DD, YYYY"),a=o.busiestDay.total,r=x()(o.busiestDay.date).format("MMM DD"),{__html:'<div class="ic-stats-block ic-stats-top">\n\n    <span class="ic-stats-table">\n\n    <span class="ic-stats-row">\n\n    <span class="ic-stats-label">1 year total\n\n    <span class="ic-stats-count">'.concat(e,'</span>\n\n    <span class="ic-stats-average">').concat(t,'</span> per day\n\n    </span>\n\n    <span class="ic-stats-meta ic-stats-total-meta">\n\n    <span class="ic-stats-unit">contributions</span>\n\n    <span class="ic-stats-date">').concat(n,'</span>\n\n    </span>\n\n    </span>\n\n    <span class="ic-stats-row">\n\n    <span class="ic-stats-label">Busiest day\n\n    <span class="ic-stats-count">').concat(a,'</span>\n\n    </span>\n\n    <span class="ic-stats-meta">\n\n    <span class="ic-stats-unit">contributions</span>\n\n    <span class="ic-stats-date">').concat(r,"</span>\n\n    </span>\n\n    </span>\n\n    </span>\n\n    </span>\n\n    </div>")}}},{key:"renderBottomStats",value:function(){var e,t,n,a,r=this.props.contrib[2019];this.props.calendar.currentYear;return e=r.longestStreak.total,t=x()(r.longestStreak.startDate).format("MMM DD, YYYY")+" - "+x()(r.longestStreak.endDate).format("MMM DD, YYYY"),n=r.currentStreak.total,a=x()(r.currentStreak.startDate).format("MMM DD, YYYY")+" - "+x()(r.currentStreak.endDate).format("MMM DD, YYYY"),{__html:'<div class="ic-stats-block ic-stats-bottom">\n\n    <span class="ic-stats-table">\n\n    <span class="ic-stats-row">\n\n    <span class="ic-stats-label">Longest streak\n\n    <span class="ic-stats-count">'.concat(e,'</span>\n\n    </span>\n\n    <span class="ic-stats-meta">\n\n    <span class="ic-stats-unit">days</span>\n\n    <span class="ic-stats-date">').concat(t,'</span>\n\n    </span>\n\n    </span>\n\n    <span class="ic-stats-row">\n\n    <span class="ic-stats-label">Current streak\n\n    <span class="ic-stats-count">').concat(n,'</span>\n\n    </span>\n\n    <span class="ic-stats-meta">\n\n    <span class="ic-stats-unit">days</span>\n\n    <span class="ic-stats-date">').concat(a,"</span>\n\n    </span>\n\n    </span>\n\n    </span>\n\n    </div>")}}},{key:"render",value:function(){var e=this;return o.a.createElement("div",{id:"calendar3d"},o.a.createElement("div",{dangerouslySetInnerHTML:this.renderTopStats()}),o.a.createElement("div",{dangerouslySetInnerHTML:this.renderBottomStats()}),o.a.createElement("div",{ref:this.myInput},o.a.createElement("canvas",{ref:function(t){return e.context=t},width:this.state.width,height:"410"})))}}]),t}(o.a.Component)),U=n(108),_=function(e){function t(){var e,n;Object(g.a)(this,t);for(var a=arguments.length,r=new Array(a),o=0;o<a;o++)r[o]=arguments[o];return(n=Object(b.a)(this,(e=Object(v.a)(t)).call.apply(e,[this].concat(r)))).state={dataPolar:{datasets:[{data:[300,250,100,40],backgroundColor:["rgba(247, 70, 74, 0.8)","rgba(70, 191, 189, 0.8)","rgba(253, 180, 92, 0.8)","rgba(148, 159, 177, 0.8)"],label:"Your top languages"}],labels:["JavaScript","Python","CSS","Roff"]}},n.componentDidMount=function(){var e=n.props.languages.slices,t=[],a=[],r=[];Object.values(e).map(function(e,n){t.push(e.color),a.push(e.name),r.push(e.share)}),n.setState({dataPolar:{datasets:[{data:r,backgroundColor:t,label:"Your top languages"}],labels:a}})},n}return Object(N.a)(t,e),Object(E.a)(t,[{key:"render",value:function(){return o.a.createElement(o.a.Fragment,null,o.a.createElement("p",{className:"lead font-weight-bold text-center mt-3"},"Your top languages"),this.state.dataPolar&&o.a.createElement(U.a,{className:"w-100 h-auto",data:this.state.dataPolar,options:{legend:{display:!1}}}))}}]),t}(o.a.Component),D=n(61),F=(n(521),function(e){function t(){var e,n;Object(g.a)(this,t);for(var a=arguments.length,r=new Array(a),o=0;o<a;o++)r[o]=arguments[o];return(n=Object(b.a)(this,(e=Object(v.a)(t)).call.apply(e,[this].concat(r)))).state={isOpen:!1},n.toggleCollapse=function(){n.setState({isOpen:!n.state.isOpen})},n.logout=function(){localStorage.removeItem("jwt_token"),window.location.href="/"},n}return Object(N.a)(t,e),Object(E.a)(t,[{key:"render",value:function(){var e=this,t=this.props.location,n=this.props.data;return console.log(n),o.a.createElement(T.t,{color:"elegant-color",dark:!0,expand:"md"},o.a.createElement(T.k,null,o.a.createElement(T.u,null,o.a.createElement("strong",{className:"white-text"},"SNEK")),o.a.createElement(T.w,{onClick:this.toggleCollapse}),o.a.createElement(T.j,{id:"navbarCollapse3",isOpen:this.state.isOpen,navbar:!0},o.a.createElement(B,null),o.a.createElement(T.v,{left:!0},o.a.createElement(T.r,null,o.a.createElement(T.s,{to:"#!"},"Ranking")),o.a.createElement(T.r,null,o.a.createElement(T.s,{to:"#!"},"Developer")),o.a.createElement(T.r,null,o.a.createElement(T.s,{to:"#!"},"Jobs")),o.a.createElement(T.r,null,o.a.createElement(T.s,{to:"#!"},"Trends"))),n.logged?o.a.createElement(T.v,{right:!0},o.a.createElement(T.r,null,o.a.createElement("span",{className:"nav-link cursor-pointer",onClick:this.logout},"Logout"))):o.a.createElement(T.v,{right:!0},o.a.createElement(T.r,{active:n.pageLogin},"/"===t.pathname?o.a.createElement("span",{className:"nav-link cursor-pointer",onClick:function(){return e.props.changeState("pageLogin",!0)}},"Sign in"):o.a.createElement(T.s,{to:"/"},"Sign in")),o.a.createElement(T.r,{active:!n.pageLogin},"/"===t.pathname?o.a.createElement("span",{className:"nav-link cursor-pointer",onClick:function(){return e.props.changeState("pageLogin",!1)}},"Sign up"):o.a.createElement(T.s,{to:"/"},"Sign up"))))))}}]),t}(o.a.Component)),M=Object(D.g)(F),Y=function(e){function t(){return Object(g.a)(this,t),Object(b.a)(this,Object(v.a)(t).apply(this,arguments))}return Object(N.a)(t,e),Object(E.a)(t,[{key:"render",value:function(){return o.a.createElement(T.l,{color:"elegant-color"},o.a.createElement(T.k,{className:"text-center py-3"},o.a.createElement(y.b,{to:"/about"},"Impressum")),o.a.createElement("div",{className:"footer-copyright text-center py-3"},o.a.createElement(T.k,{fluid:!0},"\xa9 2017 - ",(new Date).getFullYear()," Copyright: Werbeagentur Christian Aichner",o.a.createElement("p",{className:"my-2 font-weight-bold"},"Made with",o.a.createElement("i",{className:"fas fa-heart pulse red-text ml-1 mr-1","aria-hidden":"true"}),"by",o.a.createElement("a",{href:"https://www.aichner-christian.com",target:"_blank",className:"ml-1",rel:"noopener noreferrer"},"us"),"."))))}}]),t}(o.a.Component),P=n(112),z=n.n(P),H=function(e){function t(e){var n;return Object(g.a)(this,t),(n=Object(b.a)(this,Object(v.a)(t).call(this,e))).componentDidMount=function(){n.setState({scope:n.props.scope})},n.onTypingDone=function(){n.setState({scope:null},function(){return n.setState({scope:n.props.scope})})},n.state={active:0},n}return Object(N.a)(t,e),Object(E.a)(t,[{key:"render",value:function(){var e=this;return this.state.scope?o.a.createElement(z.a,{className:"d-inline typist",cursor:{show:!0,blink:!0,element:"_"},onTypingDone:function(){return e.onTypingDone()}},o.a.createElement(z.a.Delay,{ms:2e3}),this.state.scope.map(function(e,t){return o.a.createElement("span",{key:t},e,o.a.createElement(z.a.Backspace,{count:e.length+10,delay:2e3}))})):null}}]),t}(o.a.Component),B=function(e){function t(){var e,n;Object(g.a)(this,t);for(var a=arguments.length,r=new Array(a),o=0;o<a;o++)r[o]=arguments[o];return(n=Object(b.a)(this,(e=Object(v.a)(t)).call.apply(e,[this].concat(r)))).state={search:""},n.handleChange=function(e){n.setState(Object(p.a)({},e.target.name,e.target.value))},n}return Object(N.a)(t,e),Object(E.a)(t,[{key:"render",value:function(){this.props.location,this.props.data;return o.a.createElement(o.a.Fragment,null,o.a.createElement("div",{className:"md-form my-0 mx-2"},o.a.createElement(T.n,{className:"mr-sm-2",outline:!0,maxLength:"20",value:this.state.search,name:"search",type:"search",onChange:this.handleChange,placeholder:"Search","aria-label":"Search"}),o.a.createElement(T.m,{icon:"search"})),this.state.search&&o.a.createElement("div",{className:"search-results"},o.a.createElement(T.o,null,o.a.createElement("a",{href:"https://www.google.com/search?q="+this.state.search,target:"_blank",className:"text-muted"},o.a.createElement(T.p,null,o.a.createElement(T.m,{fab:!0,icon:"google",className:"mr-2"}),this.state.search)))))}}]),t}(o.a.Component),V=(o.a.Component,function(e){function t(){var e,n;Object(g.a)(this,t);for(var a=arguments.length,r=new Array(a),o=0;o<a;o++)r[o]=arguments[o];return(n=Object(b.a)(this,(e=Object(v.a)(t)).call.apply(e,[this].concat(r)))).componentDidMount=function(){n.getRedirect()},n.getRedirect=Object(h.a)(f.a.mark(function e(){var t;return f.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:t=window.name,localStorage.setItem(t,window.location.href),window.close();case 3:case"end":return e.stop()}},e)})),n}return Object(N.a)(t,e),Object(E.a)(t,[{key:"render",value:function(){return null}}]),t}(o.a.Component)),G=[{title:"General",subtitles:[{title:"Profile"}],icon:"user"},{title:"Customization",subtitles:[{title:"Features"},{title:"Colors"},{title:"User profile"}],icon:"leaf"},{title:"Security",subtitles:[{title:"Login"}],icon:"lock"},{title:"API",subtitles:[{title:"Profile"}],icon:"network-wired"},{title:"Billing",icon:"dollar-sign"},{title:"Stats",subtitles:[{title:"General"}],icon:"lock"},{title:"Sources",subtitles:[{title:"General"}],icon:"cloud"}],W=function(e){function t(){return Object(g.a)(this,t),Object(b.a)(this,Object(v.a)(t).apply(this,arguments))}return Object(N.a)(t,e),Object(E.a)(t,[{key:"render",value:function(){return o.a.createElement(T.k,null,o.a.createElement("h2",{className:"mt-5"},"Settings"),o.a.createElement(S,{settings:G,vertical:!0}))}}]),t}(o.a.Component),K=(o.a.Component,n(522),function(e){function t(){var e,n;Object(g.a)(this,t);for(var a=arguments.length,r=new Array(a),o=0;o<a;o++)r[o]=arguments[o];return(n=Object(b.a)(this,(e=Object(v.a)(t)).call.apply(e,[this].concat(r)))).state={},n.getBadge=function(){var e=Object(h.a)(f.a.mark(function e(t,a){var r;return f.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(n.state[t]){e.next=10;break}return n.setState(Object(p.a)({},t,null)),e.next=4,fetch(a);case 4:if(!(r=e.sent).ok){e.next=10;break}return e.next=8,r.text();case 8:e.sent.includes("repo not found")?n.setState(Object(p.a)({},t,null)):n.setState(Object(p.a)({},t,a));case 10:case"end":return e.stop()}},e)}));return function(t,n){return e.apply(this,arguments)}}(),n}return Object(N.a)(t,e),Object(E.a)(t,[{key:"render",value:function(){var e=this;return o.a.createElement(T.C,{tabId:this.props.id,role:"tabpanel"},this.props.repos&&o.a.createElement(o.a.Fragment,null,o.a.createElement("h3",{className:"font-weight-bold mt-4"},"Repositories"),o.a.createElement(T.A,{className:"project-list"},this.props.repos.map(function(t,n){return void 0===e.state["lastCommit"+n]&&e.getBadge("lastCommit"+n,"https://cors-anywhere.herokuapp.com/https://img.shields.io/github/last-commit/"+t.owner.login+"/"+t.name),o.a.createElement(T.i,{key:n,md:"6"},o.a.createElement("a",{href:t.url,target:"_blank",rel:"noopener noreferrer"},o.a.createElement("li",null,o.a.createElement("div",null,o.a.createElement("p",{className:"lead mb-1 float-left"},t.name),t.languagePie.slices.length>0?o.a.createElement("small",{className:"mb-1 float-right text-muted"},o.a.createElement(T.m,{icon:"square",className:"pr-1",style:{color:t.languagePie.slices[0].color}}),t.languagePie.slices[0].name):o.a.createElement("small",{className:"mb-1 float-right text-muted"},"No top language")),o.a.createElement("div",{className:"clearfix"}),o.a.createElement("div",null,o.a.createElement("img",{src:t.avatarUrl,alt:t.owner.login}),o.a.createElement("small",null,"Owned by ",t.owner.login)),o.a.createElement("div",{className:"py-2"},o.a.createElement("img",{className:"img-badge",src:e.state["lastCommit"+n]})))))}))))}}]),t}(o.a.Component)),J=function(e){function t(){return Object(g.a)(this,t),Object(b.a)(this,Object(v.a)(t).apply(this,arguments))}return Object(N.a)(t,e),Object(E.a)(t,[{key:"render",value:function(){return o.a.createElement(T.C,{tabId:this.props.id,role:"tabpanel"},this.props.contrib&&this.props.calendar&&o.a.createElement(o.a.Fragment,null,o.a.createElement(j,{contrib:this.props.contrib,calendar:this.props.calendar}),this.props.contrib&&o.a.createElement(C,{calendar:this.props.calendar})))}}]),t}(o.a.Component),X=function(e){function t(){return Object(g.a)(this,t),Object(b.a)(this,Object(v.a)(t).apply(this,arguments))}return Object(N.a)(t,e),Object(E.a)(t,[{key:"render",value:function(){return o.a.createElement(T.C,{tabId:this.props.id,role:"tabpanel"})}}]),t}(o.a.Component),q=(n(523),function(e){function t(){var e,n;Object(g.a)(this,t);for(var a=arguments.length,r=new Array(a),o=0;o<a;o++)r[o]=arguments[o];return(n=Object(b.a)(this,(e=Object(v.a)(t)).call.apply(e,[this].concat(r)))).state={},n.setTabItems=function(){console.log(n.props.globalStore.data);var e=n.props.globalStore.data.repos.length;n.setState({tabitems:[{title:"Overview",visible:!0,pill:!1,notification:!1},{title:"Projects",visible:!0,pill:e,notification:!0},{title:"Education",visible:!0,notification:!1},{title:"Posts",visible:!0,pill:"0",notification:!1},{title:"Papers",visible:!0,pill:"0",notification:!1},{title:"Talks",visible:!0,pill:"0",notification:!1}]})},n}return Object(N.a)(t,e),Object(E.a)(t,[{key:"render",value:function(){var e=this.props.globalStore;if(!e.data.logged)return o.a.createElement(D.a,{to:"/"});var t=e.data;return t&&!this.state.tabitems&&this.setTabItems(),t&&this.state.tabitems?o.a.createElement("div",{id:"profile"},o.a.createElement(T.k,{className:"py-5"},o.a.createElement(T.A,null,o.a.createElement(T.i,{md:"4",className:"text-center"},o.a.createElement(T.e,{testimonial:!0},o.a.createElement(T.h,{color:"info"}),o.a.createElement(w,{url:t.user.avatarUrl,alt:t.user.name}),o.a.createElement(I,{status:{message:t.user.status,icon:t.user.statusEmojiHTML},name:t.user.name,company:t.user.company,location:t.user.location,email:t.user.email,languages:t.languages,website:t.user.websiteUrl,organisations:t.orgs,platforms:t.user.platforms}))),o.a.createElement(T.i,{md:"8"},o.a.createElement(S,{items:this.state.tabitems,horizontal:!0},o.a.createElement(J,{id:0,contrib:t.contrib,calendar:t.contribCalendar,contribTypes:t.contribTypes}),o.a.createElement(K,{id:1,repos:t.repos}),o.a.createElement(X,{id:2})))))):null}}]),t}(o.a.Component)),$=n(109),Z=(n(524),n(238)),Q=n(525),ee="\n    ".concat("\nDROP TABLE IF EXISTS platform;\nCREATE TABLE IF NOT EXISTS platform (\n    id INT NOT NULL AUTO_INCREMENT,\n    platformName VARCHAR(80) NOT NULL,\n    platformUrl VARCHAR(2048) NOT NULL,\n    avatarUrl VARCHAR(2048) NOT NULL,\n    websiteUrl VARCHAR(2048) NOT NULL,\n    company VARCHAR(80) NOT NULL,\n    email VARCHAR(254) NOT NULL,\n    username VARCHAR(80) NOT NULL,\n    fullName VARCHAR(80) NOT NULL,\n    createdAt DATE NOT NULL,\n    location VARCHAR(80) NULL,\n    statusMessage VARCHAR(80) NULL,\n    statusEmojiHTML VARCHAR(80) NULL,\n    PRIMARY KEY (id)\n);\n","\n    ").concat("\nDROP TABLE IF EXISTS organization;\nCREATE TABLE IF NOT EXISTS organization (\n    id INT NOT NULL AUTO_INCREMENT,\n    avatarUrl VARCHAR(2048) NOT NULL,\n    name VARCHAR(80) NOT NULL,\n    url VARCHAR(2048) NOT NULL,\n    PRIMARY KEY (id)\n);\n","\n    ").concat("\nDROP TABLE IF EXISTS member;\nCREATE TABLE IF NOT EXISTS member (\n    id INT NOT NULL AUTO_INCREMENT,\n    avatarUrl VARCHAR(2048) NOT NULL,\n    name VARCHAR(80) NULL,\n    username VARCHAR(80) NOT NULL,\n    url VARCHAR(2048) NOT NULL,\n    PRIMARY KEY (id)\n);\n","\n    ").concat("\nDROP TABLE IF EXISTS languagePie;\nCREATE TABLE IF NOT EXISTS languagePie (\n    id INT NOT NULL AUTO_INCREMENT,\n    size INT NOT NULL,\n    total INT NOT NULL,\n    PRIMARY KEY (id)\n);\n","\n    ").concat("\nDROP TABLE IF EXISTS repository;\nCREATE TABLE IF NOT EXISTS repository (\n    id INT NOT NULL AUTO_INCREMENT,\n    avatarUrl VARCHAR(2048) NOT NULL,\n    url VARCHAR(2048) NOT NULL,\n    name VARCHAR(80) NOT NULL,\n    owner_id INT NULL,\n    languagePie_id INT NULL,\n    PRIMARY KEY (id),\n    CONSTRAINT fk_repository_owner1\n        FOREIGN KEY (owner_id)\n        REFERENCES member (id),\n    CONSTRAINT fk_repository_languagePie1\n        FOREIGN KEY (languagePie_id)\n        REFERENCES languagePie (id)\n);\n","\n    ").concat("\nDROP TABLE IF EXISTS languageSlice;\nCREATE TABLE IF NOT EXISTS languageSlice (\n    id INT UNSIGNED NOT NULL AUTO_INCREMENT,\n    color VARCHAR(7) NULL,\n    name VARCHAR(80) NOT NULL,\n    size INT NOT NULL,\n    pie_id INT NOT NULL,\n    PRIMARY KEY (id),\n    CONSTRAINT fk_pie_id\n        FOREIGN KEY (pie_id)\n        REFERENCES languagePie (id)\n);\n","\n    ").concat("\nDROP TABLE IF EXISTS statistic;\nCREATE TABLE IF NOT EXISTS statistic (\n    id INT NOT NULL AUTO_INCREMENT,\n    year INT NOT NULL,\n    platform_id INT NOT NULL,\n    PRIMARY KEY (id),\n    CONSTRAINT fk_statistic_platform\n        FOREIGN KEY (platform_id)\n        REFERENCES platform (id)\n);\n","\n    ").concat("\nDROP TABLE IF EXISTS streak ;\nCREATE TABLE IF NOT EXISTS streak (\n    id INT NOT NULL AUTO_INCREMENT,\n    startDate DATE NULL,\n    endDate DATE NULL,\n    total INT NULL,\n    statistic_id INT NOT NULL REFERENCES statistic(id),\n    PRIMARY KEY (id)\n);\n","\n    ").concat("\nDROP TABLE IF EXISTS calendar;\nCREATE TABLE IF NOT EXISTS calendar (\n    id INT NOT NULL AUTO_INCREMENT,\n    date DATE NOT NULL,\n    week INT NOT NULL,\n    weekday INT NOT NULL,\n    total INT NOT NULL,\n    color VARCHAR(7) NULL,\n    platform_id INT NOT NULL,\n    PRIMARY KEY (id),\n    CONSTRAINT fk_calendar_platform1\n        FOREIGN KEY (platform_id)\n        REFERENCES platform (id)\n);\n","\n    ").concat("\nDROP TABLE IF EXISTS contrib;\nCREATE TABLE IF NOT EXISTS contrib (\n    id INT NOT NULL AUTO_INCREMENT,\n    datetime DATETIME NOT NULL,\n    nameWithOwner VARCHAR(255) NOT NULL,\n    repoUrl VARCHAR(255) NOT NULL,\n    additions INT NULL,\n    deletions INT NULL,\n    changedFiles INT NULL,\n    type VARCHAR(255) NOT NULL,\n    calendar_id INT NOT NULL,\n    PRIMARY KEY (id),\n    CONSTRAINT fk_contrib_calendar1\n        FOREIGN KEY (calendar_id)\n        REFERENCES calendar (id)\n);\n","\n    ").concat("\nDROP TABLE IF EXISTS organization_has_member ;\nCREATE TABLE IF NOT EXISTS organization_has_member (\n    organization_id INT NOT NULL,\n    member_id INT NOT NULL,\n    PRIMARY KEY (organization_id, member_id),\n    CONSTRAINT fk_organization_has_member_organization1\n        FOREIGN KEY (organization_id)\n        REFERENCES organization (id),\n    CONSTRAINT fk_organization_has_member_member1\n        FOREIGN KEY (member_id)\n        REFERENCES member (id)\n);\n","\n    ").concat("\nDROP TABLE IF EXISTS repository_has_member;\nCREATE TABLE IF NOT EXISTS repository_has_member (\n    repository_id INT NOT NULL,\n    member_id INT NOT NULL,\n    PRIMARY KEY (repository_id, member_id),\n    CONSTRAINT fk_repository_has_member_repository1\n        FOREIGN KEY (repository_id)\n        REFERENCES repository (id),\n    CONSTRAINT fk_repository_has_member_member1\n        FOREIGN KEY (member_id)\n        REFERENCES member (id)\n);\n","\n    ").concat("\nDROP TABLE IF EXISTS platform_has_organization;\nCREATE TABLE IF NOT EXISTS platform_has_organization (\n    platform_id INT NOT NULL,\n    organization_id INT NOT NULL,\n    PRIMARY KEY (platform_id, organization_id),\n    CONSTRAINT fk_platform_has_organization_platform1\n        FOREIGN KEY (platform_id)\n        REFERENCES platform (id),\n    CONSTRAINT fk_platform_has_organization_organization1\n        FOREIGN KEY (organization_id)\n        REFERENCES organization (id)\n);\n","\n    ").concat("\nDROP TABLE IF EXISTS platform_has_repository ;\nCREATE TABLE IF NOT EXISTS platform_has_repository (\n    platform_id INT NOT NULL,\n    repository_id INT NOT NULL,\n    PRIMARY KEY (platform_id, repository_id),\n    CONSTRAINT fk_platform_has_repository_platform1\n        FOREIGN KEY (platform_id)\n        REFERENCES platform (id),\n    CONSTRAINT fk_platform_has_repository_repository1\n        FOREIGN KEY (repository_id)\n        REFERENCES repository (id)\n);\n","\n");var te,ne="\nINSERT INTO platform(\n    platformName,\n    platformUrl,\n    avatarUrl,\n    websiteUrl,\n    company,\n    email,\n    username,\n    fullName,\n    createdAt,\n    location,\n    statusMessage,\n    statusEmojiHTML\n)\nVALUES (?,?,?,?,?,?,?,?,?,?,?,?);\n",ae="\nINSERT INTO organization(\n    avatarUrl,\n    name,\n    url\n)\nVALUES (?,?,?);\n",re="\nINSERT INTO member(\n    avatarUrl,\n    name,\n    username,\n    url\n)\nVALUES (?,?,?,?);\n",oe="\nINSERT INTO repository(\n    avatarUrl,\n    url,\n    name,\n    owner_id,\n    languagePie_id\n)\nVALUES (?,?,?,?,?);\n",ie="\nINSERT INTO statistic(\n    year,\n    platform_id\n)\nVALUES (?,?);\n",se="\nINSERT INTO calendar(\n    date,\n    week,\n    weekday,\n    total,\n    color,\n    platform_id\n)\nVALUES (?,?,?,?,?,?);\n",ce="\nINSERT INTO contrib(\n    datetime,\n    nameWithOwner,\n    repoUrl,\n    additions,\n    deletions,\n    changedFiles,\n    type,\n    calendar_id\n)\nVALUES (?,?,?,?,?,?,?,?);\n",le="\nINSERT INTO platform_has_organization(\n    platform_id,\n    organization_id\n)\nVALUES (?,?);\n",ue="\nINSERT INTO platform_has_repository(\n    platform_id,\n    repository_id\n)\nVALUES (?,?);\n",me="https://cors-anywhere.herokuapp.com/",pe=function(e){var t="".concat(me).concat(e);return fetch(t,{headers:{Accept:"application/json, text/plain, */*","X-Requested-With":"XMLHttpRequest"}}).then(function(e){return e.json()}).then(function(e){return e})},de=function(e){var t="".concat(me).concat(e);return fetch(t,{headers:{Accept:"application/json, text/plain, */*"}}).then(function(e){return e.text()}).then(function(e){return e})},fe=function(e){var t=new DOMParser;return e.then(function(e){return t.parseFromString(e.html,"text/html")})},he=function(e){var t=new DOMParser;return e.then(function(e){return t.parseFromString(e,"text/html")})};Date.prototype.getWeekNumber=function(){var e=new Date(Date.UTC(this.getFullYear(),this.getMonth(),this.getDate())),t=e.getUTCDay()||7;e.setUTCDate(e.getUTCDate()+4-t);var n=new Date(Date.UTC(e.getUTCFullYear(),0,1));return Math.ceil(((e-n)/864e5+1)/7)};var ge,Ee,be=function(){var e=Object(h.a)(f.a.mark(function e(t){var n,a,r,o,i,s,c;return f.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return n="https://".concat(t.server,"/").concat(t.username),e.next=3,he(de(n).then(function(e){return e}));case 3:a=e.sent,a.getElementsByTagName("gl-emoji")[0],r=a.getElementsByClassName("cover-desc")[0].getElementsByTagName("span"),a.getElementsByClassName("cover-title")[0],o=a.getElementsByClassName("avatar-holder")[0].getElementsByTagName("a")[0].getAttribute("href"),a.getElementsByClassName("profile-link-holder")[0],null,null,i=r[0].innerHTML.trim().substring(1),s=r[1].innerHTML,o&&(o.includes("https://")&&o.includes("http://")||(o="https://".concat(t.server,"/").concat(o.substring(1)))),c=new Date(s),te.exec(ne,[t.source,n,o,null,null,null,t.username,i,c,null,null,null]);case 16:case"end":return e.stop()}},e)}));return function(t){return e.apply(this,arguments)}}(),ve=function(){var e=Object(h.a)(f.a.mark(function e(t){var n,a,r,o,i,s,c,l,u,m,p;return f.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return n="https://".concat(t.server,"/users/").concat(t.username,"/groups.json"),e.next=3,fe(pe(n).then(function(e){return e}));case 3:for(a=e.sent,r=a.getElementsByClassName("group-row"),o=0,i=Array.from(r);o<i.length;o++)s=i[o],c=s.getElementsByClassName("avatar")[0].getAttribute("data-src"),l=s.getElementsByClassName("group-name")[0].getAttribute("href").substring(1),u="https://".concat(t.server,"/").concat(l),c&&(c.includes("https://")&&c.includes("http://")||(c="https://".concat(t.server,"/").concat(c.substring(1)))),te.exec(ae,[c,l,u]),m=te.exec("SELECT id FROM platform").pop().id,p=te.exec("SELECT id FROM organization").pop().id,te.exec(le,[m,p]);case 6:case"end":return e.stop()}},e)}));return function(t){return e.apply(this,arguments)}}(),Ne=function(e,t){var n;t.innerHTML.includes("pushed to branch")?n="commit":t.innerHTML.includes("opened")?n="issue":t.innerHTML.includes("Merge branch")&&(n="pullRequest");var a=t.getElementsByTagName("time")[0].getAttribute("datetime");a=new Date(a);var r=t.getElementsByClassName("event-scope")[0].getElementsByTagName("a")[0].getAttribute("href"),o=function(e,t){var n={};n.repoUrl="https://".concat(e.server,"/").concat(t),n.avatarUrl="https://".concat(e.server,"/").concat(t,"/-/avatar"),n.name=t,n.ownerId=te.exec("SELECT id FROM member").pop(),n.languagePieId=te.exec("SELECT id FROM languagePie").pop(),n.ownerId&&(n.ownerId=n.ownerId.id),n.languagePieId&&(n.languagePieId=n.languagePieId.id);var a=te.exec('SELECT id FROM repository WHERE name="'.concat(n.name,'"'));if(void 0===a||0===a.length){te.exec(oe,[n.avatarUrl,n.repoUrl,n.name,n.ownerId,n.languagePieId]);var r=te.exec("SELECT id FROM platform").pop().id,o=te.exec("SELECT id FROM repository").pop().id;te.exec(ue,[r,o])}return n}(e,r=r.substring(1)),i=te.exec("SELECT id FROM calendar").pop().id;te.exec(ce,[a,r,o.repoUrl,null,null,null,n,i])},Oe=function(){var e=Object(h.a)(f.a.mark(function e(t){var n,a,r,o,i,s,c,l,u,m,p,d,h,g,E;return f.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return"2147483647",n="https://".concat(t.server,"/").concat(t.username,"?limit=").concat("2147483647"),e.next=4,fe(pe(n).then(function(e){return e}));case 4:for(a=e.sent,r=a.getElementsByClassName("event-item"),o=0,i=Array.from(r);o<i.length;o++)((s=i[o]).innerHTML.includes("pushed to branch")||s.innerHTML.includes("opened")||s.innerHTML.includes("Merge branch"))&&(c=s.getElementsByTagName("time")[0].getAttribute("datetime"),c=new Date(c),l="".concat(c.getFullYear(),"-").concat(c.getMonth()+1,"-").concat(c.getDate()),u=c.getWeekNumber().toString(),m=c.getDay().toString(),p=te.exec("SELECT id FROM platform").pop().id,d=te.exec("SELECT year FROM statistic").pop(),h=c.getFullYear(),d||te.exec(ie,[h,p]),void 0===(g=te.exec('SELECT total FROM calendar WHERE date="'.concat(l,'"')).pop())||0===g.length?te.exec(se,[l,u,m,1,null,p]):(E=g.total,E++,te.exec("\nUPDATE calendar\nSET total = ?\nWHERE date = ? AND platform_id = ?\n",[E,l,p])),Ne(t,s));case 7:case"end":return e.stop()}},e)}));return function(t){return e.apply(this,arguments)}}(),ye=function(e,t){return te=e,be(t).then(Object(h.a)(f.a.mark(function e(){return f.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.t0=ve(t),e.next=3,Oe(t);case 3:return e.t1=e.sent,e.next=6,e.t0.then.call(e.t0,e.t1);case 6:return e.abrupt("return",e.sent);case 7:case"end":return e.stop()}},e)})))},Te=function(e,t){var n=new u.b({introspectionQueryResultData:{__schema:{types:[]}}});return Ee=new u.a({fragmentMatcher:n}),ge=new l.a({uri:e,headers:{authorization:t}}),new c.a({cache:Ee,link:ge})},Se=n(45);function we(){var e=Object(O.a)(['\n    query\n      {\n        user(login: "','") {\n            ',"\n        }\n      }\n  "]);return we=function(){return e},e}function Ie(){var e=Object(O.a)(["\n  query getData($username: String!) {\n    user(login: $username) {\n      avatarUrl\n      company\n      createdAt\n      name\n      login\n      email\n      websiteUrl\n      hovercard {\n        contexts {\n          message\n          octicon\n        }\n      }\n      isEmployee\n      isHireable\n      location\n      status {\n        emojiHTML\n        expiresAt\n        message\n        updatedAt\n      }\n      organizations(first: 100) {\n        pageInfo {\n          endCursor\n          hasNextPage\n        }\n        edges {\n          node {\n            name\n            url\n            avatarUrl\n            name\n            membersWithRole(first: 100) {\n              totalCount\n              nodes {\n                name\n                login\n                avatarUrl\n                url\n                projectsUrl\n              }\n            }\n          }\n        }\n      }\n    }\n  }\n"]);return Ie=function(){return e},e}var ke,Le=Object(Se.a)(Ie()),Re=function(e,t){return Object(Se.a)(we(),e,function(e,t){for(var n,a,r=(new Date).getFullYear(),o=new Date(t.getFullYear(),0,2),i=new Date(t.getFullYear()+1,0,1),s="",c=1;o.getFullYear()<=r;)s+=(n=o.toJSON(),a=i.toJSON(),"\n  c".concat(c,': contributionsCollection(from:"').concat(n,'", to:"').concat(a,'" ){\n    contributionYears\n    contributionCalendar{\n        totalContributions\n        weeks{\n          contributionDays{\n            contributionCount\n            date\n            color\n          }\n        }\n      }\n      commitContributionsByRepository {\n        url\n        repository {\n          defaultBranchRef{\n            target{\n              ... on Commit{\n                changedFiles\n                additions\n                deletions\n                committedDate\n                history{\n                  totalCount\n                  pageInfo{\n                    endCursor\n                  }\n                  nodes{\n                    committer{\n                      user{\n                        login\n                      }\n                    }\n                    committedDate\n                  }\n                }\n              }\n            }\n          }\n          openGraphImageUrl\n          name\n          nameWithOwner\n          url\n          owner{\n            avatarUrl\n            login\n            url\n          }\n          languages(first: 50, orderBy: {field: SIZE, direction: DESC}) {\n            totalCount\n            totalSize\n            edges {\n              size\n              node {\n                name\n                color\n              }\n            }\n          }\n        }\n      }\n      issueContributionsByRepository {\n        repository {\n          issues(first:100) {\n            nodes{\n              createdAt\n              author{\n                login\n              }\n            }\n          }\n          openGraphImageUrl\n          name\n          nameWithOwner\n          url\n          owner{\n            avatarUrl\n            login\n            url\n          }\n          languages(first: 50, orderBy: {field: SIZE, direction: DESC}){\n            totalCount\n            totalSize\n            edges {\n              size\n              node {\n                name\n                color\n              }\n            }\n          }\n        }\n      }\n      pullRequestContributionsByRepository {\n        repository {\n          pullRequests(first:100) {\n            nodes{\n              changedFiles\n              additions\n              deletions\n              createdAt\n              author{\n                login\n              }\n            }\n          }\n          openGraphImageUrl\n          name\n          nameWithOwner\n          url\n          owner{\n            avatarUrl\n            login\n            url\n          }\n          languages(first: 50, orderBy: {field: SIZE, direction: DESC}){\n            totalCount\n            totalSize\n            edges {\n              size\n              node {\n                name\n                color\n              }\n            }\n          }\n        }\n      }\n    }\n  ')),o.setFullYear(o.getFullYear()+1),i.setFullYear(i.getFullYear()+1),c++;return s}(0,t))},Ce=n(67),Ae=!1,xe="",je=0,Ue=function(e){e.profile.organizations.edges.forEach(function(e){var t=e.node.avatarUrl,n=e.node.name,a=e.node.url;ke.exec(ae,[t,n,a]);var r,o,i=ke.exec("SELECT id FROM organization").pop().id,s=ke.exec("SELECT id FROM platform").pop().id;ke.exec(le,[s,i]),r=e.node.membersWithRole.nodes,o=i,r.forEach(function(e){var t=e.avatarUrl,n=e.name,a=e.url,r=e.login;ke.exec(re,[t,n,r,a]);var i=ke.exec("SELECT id FROM member").pop().id;ke.exec("\nINSERT INTO organization_has_member(\n    organization_id,\n    member_id\n)\nVALUES (?,?);\n",[o,i])})})},_e=function(e){var t=function(e){var t={};return e.forEach(function(e){var n=new Date(e.date).getFullYear();void 0===t[parseInt(n)]&&(t[parseInt(n)]=[]),t[parseInt(n)].push(e)}),t}(function(e,t){var n=[];return t.forEach(function(t){var a=e.calendar[t.toString()],r=!0,o=!1,i=void 0;try{for(var s,c=a.contributionCalendar.weeks.entries()[Symbol.iterator]();!(r=(s=c.next()).done);r=!0){var l=s.value,u=Object(Ce.a)(l,2),m=(u[0],u[1]),p=!0,d=!1,f=void 0;try{for(var h,g=m.contributionDays.entries()[Symbol.iterator]();!(p=(h=g.next()).done);p=!0){var E=h.value,b=Object(Ce.a)(E,2),v=(b[0],b[1]);n.push(v)}}catch(N){d=!0,f=N}finally{try{p||null==g.return||g.return()}finally{if(d)throw f}}}}catch(N){o=!0,i=N}finally{try{r||null==c.return||c.return()}finally{if(o)throw i}}}),n}(e,Object.keys(e.calendar).filter(function(e){return e.match(/c[0-9]+/)})));Object.keys(t).forEach(function(e){var n=t[parseInt(e)],a=e,r=ke.exec("SELECT id FROM platform").pop().id;ke.exec(ie,[a,r]),n.forEach(function(e){var t=e.contributionCount,n=e.date;if(0!==t)Ae?je+=t:(Ae=!0,xe=n,je=t);else if(0!==je){var a=ke.exec("SELECT id FROM statistic").pop().id;ke.exec("\nINSERT INTO streak(\n    startDate,\n    endDate,\n    total,\n    statistic_id\n)\nVALUES (?,?,?,?);\n",[new Date(xe),new Date(new Date(n).getTime()-864e5),je,a]),Ae=!1,xe="",je=0}})})},De=function(e){var t=e.repository.owner.login,n=e.repository.owner.avatarUrl,a=e.repository.owner.name,r=e.repository.owner.url;ke.exec(re,[n,a,t,r]),function(e){var t=ke.exec("SELECT id FROM member").pop().id,n=e.repository.name,a=e.repository.url,r=e.repository.openGraphImageUrl,o=ke.exec("SELECT id FROM languagePie").pop().id;ke.exec(oe,[r,a,n,t,o]);var i=ke.exec("SELECT id FROM repository").pop().id,s=ke.exec("SELECT id FROM platform").pop().id;ke.exec(ue,[s,i])}(e)},Fe=function(e){e.forEach(function(e){if(void 0===ke.exec("SELECT url from repository WHERE url=?",[e.repository.url])[0]){var t=e.repository.languages.totalCount,n=e.repository.languages.totalSize;ke.exec("\nINSERT INTO languagePie(\n    size,\n    total\n)\nVALUES (?,?);\n",[n,t]),function(e){var t=ke.exec("SELECT id FROM languagePie").pop().id;e.repository.languages.edges.forEach(function(e){var n=e.node.name,a=e.size,r=e.node.color;ke.exec("\nINSERT INTO languageSlice(\n    name,\n    color,\n    size,\n    pie_id\n)\nVALUES (?,?,?,?);\n",[n,r,a,t])}),De(e)}(e)}})},Me=function(e){var t=Object.keys(e.calendar).filter(function(e){return e.match(/c[0-9]+/)});ke.exec("SELECT username FROM platform").pop().username;t.forEach(function(t){var n=e.calendar[t.toString()],a=[],r=!0,o=!1,i=void 0;try{for(var s,c=n.contributionCalendar.weeks.entries()[Symbol.iterator]();!(r=(s=c.next()).done);r=!0){var l=s.value,u=Object(Ce.a)(l,2),m=u[0],p=u[1],d=!0,f=!1,h=void 0;try{for(var g,E=p.contributionDays.entries()[Symbol.iterator]();!(d=(g=E.next()).done);d=!0){var b=g.value,v=Object(Ce.a)(b,2),N=v[0],O=v[1],y=O.date,T=y.split("T")[0],S=m,w=N,I=O.contributionCount,k=O.color,L=I;if(I>=0){var R=ke.exec("SELECT id FROM platform").pop().id;ke.exec(se,[T,S,w,I,k,R]);var C=ke.exec("SELECT id FROM calendar").pop().id;L>=0&&a.push({datetime:new Date(y),total:L,calendarId:C})}}}catch(x){f=!0,h=x}finally{try{d||null==E.return||E.return()}finally{if(f)throw h}}}}catch(x){o=!0,i=x}finally{try{r||null==c.return||c.return()}finally{if(o)throw i}}var A=function(e){for(var t,n,a,r=[],o=0;o<e.total;o++)r.push({datetime:e.datetime,repoNameWithOwner:"octocat",repoUrl:"https://github.com/octocat",additions:0,deletions:0,changedFiles:0});t=r,n="codeReviews",a=e.calendarId,t.forEach(function(e){ke.exec(ce,[e.datetime,e.repoNameWithOwner,e.repoUrl,e.additions,e.deletions,e.changedFiles,n,a])})};a.forEach(function(e){A(e)})})},Ye=function(e,t){ke=e,function(e){var t,n;e.profile.status?(t=e.profile.status.message,n=e.profile.status.emojiHTML):(t=null,n=null);var a=e.profile.avatarUrl,r=e.profile.websiteUrl,o=e.profile.company,i=e.profile.email,s=e.profile.name,c=e.profile.createdAt,l=e.profile.location,u=e.profile.login;ke.exec(ne,["GitHub","https://github.com",a,r,o,i,u,s,c,l,t,n])}(t),Ue(t),_e(t),function(e){Object.keys(e.calendar).filter(function(e){return e.match(/c[0-9]+/)}).forEach(function(t){var n=e.calendar[t.toString()].commitContributionsByRepository;Fe(n)})}(t),Me(t)};function Pe(e,t){return ze.apply(this,arguments)}function ze(){return(ze=Object(h.a)(f.a.mark(function e(t,n){var a;return f.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return a=function(){var e=Object(h.a)(f.a.mark(function e(t,a){var r,o,i,s,c,l,u,m,p;return f.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return"https://api.github.com/graphql",r="Bearer ".concat(n.token),o=Te("https://api.github.com/graphql",r),e.next=5,o.query({query:Le,variables:{username:a}});case 5:return i=e.sent,s=i.data,c=new Date(s.user.createdAt),e.next=10,o.query({query:Re(a,c)});case 10:l=e.sent,u={},m={},Object.values(l.data.user).forEach(function(e){"User"!==e&&e.commitContributionsByRepository.forEach(function(e){e.repository.defaultBranchRef.target.history.totalCount>=100&&(m[e.repository.nameWithOwner]=e),u[e.repository.nameWithOwner]=e})}),(p={}).profile=i.data.user,p.calendar=l.data.user,Ye(t,p);case 18:case"end":return e.stop()}},e)}));return function(t,n){return e.apply(this,arguments)}}(),e.next=3,a(t,n.username);case 3:case"end":return e.stop()}},e)}))).apply(this,arguments)}var He=new function(e){var t=new Q.Database(e);return t.exec(ee),t}("data"),Be=function(e,t){return He.exec(e,t)};function Ve(e){return Ge.apply(this,arguments)}function Ge(){return(Ge=Object(h.a)(f.a.mark(function e(t){return f.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if("github"!==t.source){e.next=5;break}return e.next=3,Pe(He,t);case 3:e.next=8;break;case 5:if("gitlab"!==t.source){e.next=8;break}return e.next=8,ye(He,t);case 8:case"end":return e.stop()}},e)}))).apply(this,arguments)}var We="\nSELECT * FROM platform\n",Ke="\nSELECT\n  member.id as mId,\n  member.avatarUrl as mAvatarUrl,\n  member.name as mName,\n  member.username as mUsername,\n  member.url as mUrl,\n  organization.id as oId,\n  organization.avatarUrl as oAvatarUrl,\n  organization.name as oName,\n  organization.url as oUrl\nFROM\n  organization\nLEFT OUTER JOIN\n  organization_has_member\n    ON organization.id = organization_has_member.organization_id\nLEFT OUTER JOIN\n  member\n    ON member.id = organization_has_member.member_id\n",Je="\nSELECT\n  repository.id as rId,\n  repository.avatarUrl as rAvatarUrl,\n  repository.url as rUrl,\n  repository.name as rName,\n  repository.languagePie_id as rLanguagePieId,\n  owner.avatarUrl as oAvatarUrl,\n  owner.name as oName,\n  owner.username as oUsername,\n  owner.url as oUrl,\n  member.id as mId,\n  member.avatarUrl as mAvatarUrl,\n  member.name as mName,\n  member.username as mUsername,\n  member.url as mUrl,\n  languagePie.id as lId,\n  languagePie.size as lSize,\n  languagePie.total as lTotal,\n  languageSlice.id as sId,\n  languageSlice.color as sColor,\n  languageSlice.name as sName,\n  languageSlice.size as sSize,\n  languageSlice.pie_id as sPieId\nFROM\n  repository\nLEFT OUTER JOIN \n  member as owner\n    ON owner.id = repository.owner_id\nLEFT OUTER JOIN\n    languagePie\n      ON languagePie.id = repository.languagePie_id\nLEFT OUTER JOIN \n  languageSlice\n      ON languageSlice.pie_id = languagePie.id\nLEFT OUTER JOIN\n  repository_has_member\n    ON repository.id = repository_has_member.repository_id\nLEFT OUTER JOIN\n  member\n    ON member.id = repository_has_member.member_id\n",Xe="\nSELECT\n  languageSlice.id as sId,\n  languageSlice.color as sColor,\n  languageSlice.name as sName,\n  languageSlice.size as sSize,\n  languageSlice.pie_id as sPieId\nFROM\n  languageSlice\n",qe="\nSELECT\n  sum(languageSlice.size) as num\nFROM\n  languageSlice\n",$e="\nSELECT\n  calendar.id as cId,\n  calendar.date as cDate,\n  YEAR(contrib.datetime) as cYear,\n  calendar.week as cWeek,\n  calendar.weekday as cWeekday,\n  calendar.color as cColor,\n  contrib.id as ctId,\n  contrib.datetime as ctDatetime,\n  contrib.nameWithOwner as ctNameWithOwner,\n  contrib.repoUrl as ctRepoUrl,\n  contrib.additions as ctAdditions,\n  contrib.deletions as ctDeletions,\n  contrib.changedFiles as ctChangedFiles,\n  contrib.type as ctType\nFROM\n  calendar\nJOIN\n  contrib\n    ON calendar.id = contrib.calendar_id\n",Ze="\nSELECT\n  YEAR(contrib.datetime) as year,\n  count(contrib.id) as num\nFROM\n  contrib\nGROUP BY\n  YEAR(contrib.datetime)\n",Qe="\nSELECT \n  MIN(YEAR(date)) as baseYear\nFROM\n  calendar\n",et="\nSELECT\n  statistic.id as sId,\n  statistic.year as sYear,\n  streak.id as stId,\n  streak.startDate as stsDate,\n  streak.endDate as steDate,\n  streak.total as stTotal,\n  streak.statistic_id as stsId\nFROM\n  statistic\nLEFT JOIN\n  streak\n    ON statistic.id = streak.statistic_id\n",tt="\nSELECT\n  contrib.id as cId,\n  contrib.datetime as cDatetime,\n  contrib.nameWithOwner as cNameWithOwner,\n  contrib.repoUrl as ctRepoUrl,\n  contrib.additions as cAdditions,\n  contrib.deletions as cDeletions,\n  contrib.changedFiles as cChangedFiles,\n  contrib.type as cType,\n  platform.id as pId,\n  platform.platformName as pName\nFROM\n  contrib\nJOIN\n  calendar\n    ON contrib.calendar_id = calendar.id\nJOIN\n  platform\n    ON calendar.platform_id = platform.id\n",nt="\nSELECT\n  date,\n  total,\n  YEAR(date) as year\nFROM\n  calendar\nWHERE\n  total in (\n    SELECT\n      max(c2.total) as total,\n      YEAR(date)\n    FROM calendar c2\n    GROUP BY YEAR(date)\n  )\n",at=function(e){return e.toISOString().split("T")[0]};var rt=function(e){var t={},n=0;t.weeks=[],t.total=0,t.fromDate=new Date(e[0].date),t.toDate=new Date(e[e.length-1].date);for(var a=0;a<=53;a++){for(var r={contributionDays:[]},o=0;o<=6;o++)void 0!==e[n]&&(t.total+=e[n].total,r.contributionDays.push(e[n])),n++;t.weeks.push(r)}return t},ot=function(e,t){for(var n={weeks:{},total:0},a=0;a<53;a++){for(var r={contributionDays:{}},o=0;o<=6;o++){var i={};t?e.setDate(e.getDate()+1):e.setDate(e.getDate()-1),i.total=0,i.date=at(new Date(e)),i.color="#ffffff",r.contributionDays[o]=i}n.weeks[a]=r}return n},it=function(e){var t=0;return e.weeks.forEach(function(e){e.contributionDays.forEach(function(e){e.total>t&&(t=e.total)})}),e.weeks.forEach(function(e){e.contributionDays.forEach(function(e){var n=e.total/t;n>.8&&n<=1?e.color="#196127":n>.6&&n<=.8?e.color="#239a3b":n>.4&&n<=.6?e.color="#7bc96f":n>0&&n<=.4?e.color="#c6e48b":0===n&&(e.color="#ebedf0")})}),e};function st(e){var t=JSON.parse(JSON.stringify(e));for(var n in e){for(var a in e[n].weeks)for(var r in t[n].weeks[a].contributionDays=[],e[n].weeks[a].contributionDays)t[n].weeks[a].contributionDays.push(e[n].weeks[a].contributionDays[r]);t[n].weeks=Object.values(t[n].weeks)}return t}function ct(e){return lt.apply(this,arguments)}function lt(){return(lt=Object(h.a)(f.a.mark(function e(t){var n,a,r,o;return f.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:a=function(){return(a=Object(h.a)(f.a.mark(function e(t,a,r){return f.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,a.apply(void 0,Object(Z.a)(r)).catch(function(){if(t<=0)throw new Error("Could not fetch data after ".concat(t," retries... Please try again later!"));return n(t-1,a,r)});case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}},e)}))).apply(this,arguments)},n=function(e,t,n){return a.apply(this,arguments)},r=0;case 3:if(!(r<t.length)){e.next=11;break}return o=t[r],5,e.next=8,n(5,Ve,[o]).catch(function(e){throw e});case 8:r++,e.next=3;break;case 11:case"end":return e.stop()}},e)}))).apply(this,arguments)}function ut(){try{return function(e){var t=e.exec(We),n=t[0],a={};return a.avatarUrl=n.avatarUrl,a.company=n.company,a.createdAt=n.createdAt,a.name=n.fullName,a.username=n.username,a.email=n.email,a.websiteUrl=n.websiteUrl,a.status=n.statusMessage,a.statusEmojiHTML=n.statusEmojiHTML,a.isEmployee=!1,a.isHireable=!1,a.location=n.location,a.platforms=[],t.forEach(function(e){a.platforms.push({platform:e.platformName,username:e.username})}),a}(a)}catch(e){return}}function mt(){try{return function(e){var t=e.exec(Je),n={};return t.forEach(function(e){if(!n[e.rId]){var t={};t.name=e.rName,t.avatarUrl=e.oAvatarUrl,t.url=e.rUrl,t.owner={},t.owner.name=e.oName,t.owner.login=e.oUsername,t.owner.url=e.oUrl,t.languagePie={},t.languagePie.size=e.lSize,t.languagePie.total=e.lTotal,t.languagePie.slices=[],t.members=[],t.memberCount=0,n[e.rId]=t}if(void 0!==e.mId){var a={};a.name=e.mName,a.login=e.mUsername,a.avatarUrl=e.mAvatarUrl,a.url=e.mUrl,a.projectsUrl=null,n[e.rId].memberCount++,n[e.rId].members.push(a)}if(void 0!==e.sId){var r={};r.name=e.sName,r.color=e.sColor,r.size=e.sSize,n[e.rId].languagePie.slices.push(r)}}),Object.values(n)}(a)}catch(e){return}}function pt(){try{return function(e){var t=e.exec(Ke),n={};return t.forEach(function(e){if(!n[e.oId]){var t={};t.name=e.oName,t.url=e.oUrl,t.avatarUrl=e.oAvatarUrl,t.memberCount=0,t.members=[],n[e.oId]=t}if(void 0!==e.mId){var a={};a.oid=e.oId,a.name=e.mName,a.login=e.mUsername,a.avatarUrl=e.mAvatarUrl,a.url=e.mUrl,a.projectsUrl=null,n[e.oId].memberCount++,n[e.oId].members.push(a)}}),Object.values(n)}(a)}catch(e){return}}function dt(){try{return function(e){var t=e.exec(Xe),n=e.exec(qe)[0].num,a={slices:{}};return a.total=n,t.forEach(function(e){if(a.slices[e.sName])a.slices[e.sName].size+=e.sSize,a.slices[e.sName].share=Math.round(a.slices[e.sName].size/n*100*100)/100;else{var t={};t.name=e.sName,t.color=e.sColor,t.size=e.sSize,t.share=Math.round(t.size/n*100*100)/100,a.slices[e.sName]=t}}),a}(a)}catch(e){return}}function ft(){try{return function(e){var t=e.exec($e),n=e.exec(Qe)[0].baseYear,a={},r=new Date;n||(n=r.getFullYear());for(var o=n;o<=(new Date).getFullYear();o++){var i=new Date(o,0,1);i.setDate(i.getDate()-i.getDay()-0),a[o]=ot(i,!0)}r.setDate(r.getDate()+1),t.forEach(function(e){e.cYear&&(a[e.cYear].total++,a[e.cYear].weeks[e.cWeek].contributionDays[e.cWeekday].total++,a[e.cYear].weeks[e.cWeek].contributionDays[e.cWeekday].color=e.cColor)});var s=st(a)[r.getFullYear()],c=st(a)[r.getFullYear()-1],l=new Date,u=[];s.weeks.reverse().forEach(function(e){e.contributionDays.reverse().forEach(function(e){new Date(e.date)<l&&u.push(e)})}),void 0!==c&&c.weeks.reverse().forEach(function(e){e.contributionDays.reverse().forEach(function(e){u.length<=371+l.getDay()&&u.push(e)})});for(var m=rt(u.reverse()),p=0,d=Object.entries(st(a));p<d.length;p++){var f=d[p],h=Object(Ce.a)(f,2),g=h[0],E=h[1];a[g]=it(E)}return{years:a,currentYear:it(m)}}(a)}catch(e){return}}function ht(){try{return function(e){var t=e.exec(et),n={},a={};e.exec(Ze).forEach(function(e){n[e.year]=e.num}),e.exec(nt).forEach(function(e){var t={};t.date=e.date,t.total=e.total,a[e.year]=t});var r={};return t.forEach(function(e){if(!r[e.sYear]){var t={};t.date=a[e.sYear].date,t.total=a[e.sYear].total;var o={streaks:[]};o.busiestDay=t,o.average=Math.round(n[e.sYear]/365*100)/100,o.longestStreak={},o.longestStreak.total=0,o.currentStreak={},o.currentStreak.total=0,r[e.sYear]=o}if(void 0!==e.stId){var i={};i.startDate=e.stsDate,i.endDate=e.steDate,i.total=e.stTotal,r[e.sYear].streaks.push(i);var s=function(e,t){return Math.ceil((t.getTime()-e.getTime())/864e5)},c=s(i.startDate,i.endDate);r[e.sYear].longestStreak.total<=c&&(r[e.sYear].longestStreak.total=c,r[e.sYear].longestStreak.startDate=i.startDate,r[e.sYear].longestStreak.endDate=i.endDate);var l=new Date;i.endDate.getFullYear()===l.getFullYear()&&i.endDate.getMonth()===l.getMonth()&&i.endDate.getDate()===l.getDate()&&(r[e.sYear].currentStreak.startDate=i.startDate,r[e.sYear].currentStreak.endDate=i.endDate,r[e.sYear].currentStreak.total=s(i.startDate,i.endDate))}}),r}(a)}catch(e){return}}function gt(){try{return function(e){var t=e.exec(tt),n={platform:{},user:{},contribs:{}};return t.forEach(function(e){if(!n.platform[e.pName]){var a={share:0,count:0};n.platform[e.pName]=a}if(n.platform[e.pName].count++,n.platform[e.pName].share=Math.round(n.platform[e.pName].count/t.length*100*100)/100,!n.user[e.pId]){var r={share:0,count:0};r.name=e.pName,n.user[e.pId]=r}if(n.user[e.pId].count++,n.user[e.pId].share=Math.round(n.user[e.pId].count/t.length*100*100)/100,!n.contribs[e.cType]){var o={share:0,count:0,platform:{},user:{}};n.contribs[e.cType]=o}if(n.contribs[e.cType].count++,n.contribs[e.cType].share=Math.round(n.contribs[e.cType].count/t.length*100*100)/100,!n.contribs[e.cType].platform[e.pName]){var i={share:0,count:0};n.contribs[e.cType].platform[e.pName]=i}if(n.contribs[e.cType].platform[e.pName].count++,n.contribs[e.cType].platform[e.pName].share=Math.round(n.contribs[e.cType].platform[e.pName].count/t.filter(function(t){return t.cType===e.cType}).length*100*100)/100,!n.contribs[e.cType].user[e.pId]){var s={share:0,count:0};s.name=e.pName,n.contribs[e.cType].user[e.pId]=s}n.contribs[e.cType].user[e.pId].count++,n.contribs[e.cType].user[e.pId].share=Math.round(n.contribs[e.cType].user[e.pId].count/t.filter(function(t){return t.cType===e.cType}).length*100*100)/100}),n}(a)}catch(e){return}}var Et="64a37e4846387cfcaea35d83afca3c9c8689628c",bt=function(){var e=(new Date).getTime();return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(t){var n=(e+16*Math.random())%16|0;return e=Math.floor(e/16),("x"===t?n:3&n|8).toString(16)})}(),vt=encodeURIComponent("https://snek.at/redirect"),Nt={buildAuthorizeUrl:function(){return"https://github.com/login/oauth/authorize?redirect_uri=".concat(vt,"\n        &client_id=").concat("2148629809594d57c113","\n        &client_secret=").concat(Et,"\n        &scope=repo, user:email, read:user, read:org\n        &state=").concat(bt)},extractError:function(e){var t=e.match(/error=([^&]+)/);if(t){var n=t[1],a=e.match(/error_description=([^&]+)/),r=a?a[1]:"";return new Error("Error during login. Reason: ".concat(n," Description: ").concat(r))}},extractSession:function(){var e=Object(h.a)(f.a.mark(function e(t){var n,a,r,o,i,s;return f.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return n=null,a=null,(r=t.match(/code=([^&]+)/))&&(a=r[1]),o=null,(i=t.match(/state=([^&]+)/))&&(o=i[1]),s="".concat("https://cors-anywhere.herokuapp.com/","https://github.com/login/oauth/access_token?code=").concat(a,"\n        &client_secret=").concat(Et,"&client_id=").concat("2148629809594d57c113","&redirect_uri=").concat(vt,"&state=").concat(o),e.next=10,fetch(s,{headers:{Accept:"application/json","Access-Allow-Credentials":"True","Access-Control-Allow-Methods":"POST","Access-Control-Allow-Origin":"*","Content-Type":"application/json",Vary:"Origin"},method:"POST"}).then(function(){var e=Object(h.a)(f.a.mark(function e(t){return f.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t.json();case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}},e)}));return function(t){return e.apply(this,arguments)}}()).then(function(){var e=Object(h.a)(f.a.mark(function e(t){var a;return f.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return a=t.access_token,e.next=3,fetch("https://api.github.com/user?access_token=".concat(a)).then(function(){var e=Object(h.a)(f.a.mark(function e(t){return f.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t.json();case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}},e)}));return function(t){return e.apply(this,arguments)}}()).then(function(e){return n={username:e.login,access_token:a}});case 3:case"end":return e.stop()}},e)}));return function(t){return e.apply(this,arguments)}}());case 10:return e.abrupt("return",n);case 11:case"end":return e.stop()}},e)}));return function(t){return e.apply(this,arguments)}}()},Ot={buildAuthorizeUrl:function(){return"https://snek.at/gitlab"},extractError:function(e){var t=e.match(/error=([^&]+)/);if(t){var n=t[1],a=e.match(/error_description=([^&]+)/),r=a?a[1]:"";return new Error("Error during login. Reason: ".concat(n," Description: ").concat(r))}},extractSession:function(){var e=Object(h.a)(f.a.mark(function e(t){var n,a,r,o,i;return f.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return n=null,a=null,(r=t.match(/username=([^&]+)/))&&(a=r[1].replace(/__/g,".")),(o=t.match(/server=([^&]+)/))&&(n=o[1].replace(/__/g,".")),i={server:n,username:a},e.abrupt("return",i);case 8:case"end":return e.stop()}},e)}));return function(t){return e.apply(this,arguments)}}()},yt=n(157),Tt=n(537),St=n(74);n(219);function wt(){var e=Object(O.a)(['\n  mutation register($token: String!, $values: GenericScalar!) {\n    registrationFormPage(token: $token, url: "/registration", values: $values) {\n      result\n      errors {\n        name\n        errors\n      }\n    }\n  }\n']);return wt=function(){return e},e}var It=Object(Se.a)(wt()),kt=function(e){function t(){var e,n;Object(g.a)(this,t);for(var a=arguments.length,r=new Array(a),i=0;i<a;i++)r[i]=arguments[i];return(n=Object(b.a)(this,(e=Object(v.a)(t)).call.apply(e,[this].concat(r)))).state={email:"",password:"",password1:"",username:"",server:"",oAuthGitHubButton:!0,oAuthGitHubData:null,AuthGitLabButton:!0,sourceList:[],customUsername:!1,usernames:[]},n.addToUsernames=function(e){var t=n.state.usernames;t.includes(e)||(t.push(e),n.setState({usernames:t}))},n.changeHandler=function(e){n.setState(Object(p.a)({},e.target.name,e.target.value))},n.connectGitHub=Object(h.a)(f.a.mark(function e(){var t;return f.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return n.setState({oAuthGitHubButton:!1}),e.next=3,yt.a.acquireTokenAsync(Nt);case 3:t=e.sent,n.setState({oAuthGitHubButton:!0},function(){return n.pushToSourceList("github",t.username,"github.com",t.access_token)});case 5:case"end":return e.stop()}},e)})),n.connectGitLab=Object(h.a)(f.a.mark(function e(){var t;return f.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return n.setState({AuthGitLabButton:!1}),e.next=3,yt.a.acquireTokenAsync(Ot);case 3:t=e.sent,n.setState({AuthGitLabButton:!0},function(){return n.pushToSourceList("gitlab",t.username,t.server,t.token)});case 5:case"end":return e.stop()}},e)})),n.pushToSourceList=function(e,t,a,r){var o=n.state.sourceList;n.addToUsernames(t),o.push({id:Math.random()*t.length+e.length,source:e,username:t,server:a,token:r}),n.setState({sourceList:o,username:n.state.username?n.state.username:o[0].username})},n.removeSource=function(e){var t=n.state.sourceList.filter(function(t){return t.id!==e});n.setState({sourceList:t})},n.handleUserNamePick=function(e){n.setState({username:e})},n.handleSubmit=Object(h.a)(f.a.mark(function e(){var t,a;return f.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:t=n.props.token,a={},ct(n.state.sourceList).then(function(){ft(),ht(),mt()}).then(function(){a={logged:!0,contrib:ht(),contribCalendar:ft(),contribTypes:gt(),user:ut(),orgs:pt(),languages:dt(),repos:mt()}}).then(function(){var e={sources:JSON.stringify(n.state.sourceList),username:n.state.username,email:n.state.email,password:Object($.sha256)(n.state.password),platform_data:JSON.stringify(a)};console.log(e),n.props.register({variables:{token:t,values:e}}).then(function(e){"FAIL"===e.message?n.notify("warn","All fields have to be filled!"):n.notify("success"," Welcome to SNEK!")}).catch(function(e){e.message.includes("Authentication Required")?n.notify("success"," Welcome to SNEK!"):e.message.includes("Duplicate entry")?n.notify("warn"," Username already taken!"):(console.log(e.message),n.notify("error","Something went wrong!"))})});case 3:case"end":return e.stop()}},e)})),n.notify=function(e,t){"success"===e&&T.F.success(o.a.createElement("div",null,o.a.createElement(T.m,{icon:"lock-open",className:"text ml-2 cursor-pointer"}),t)),"error"===e&&T.F.error(o.a.createElement("div",null,o.a.createElement(T.m,{icon:"lock",className:"text ml-2 cursor-pointer"}),t)),"warn"===e&&T.F.warn(o.a.createElement("div",null,o.a.createElement(T.m,{icon:"exclamation-triangle",className:"text ml-2 cursor-pointer"}),t))},n}return Object(N.a)(t,e),Object(E.a)(t,[{key:"render",value:function(){var e=this;return o.a.createElement(T.e,{id:"register",className:"text-dark"},o.a.createElement(T.E,{hideProgressBar:!0,newestOnTop:!0,autoClose:5e3}),o.a.createElement(T.f,null,o.a.createElement("h2",null,"Join us"),o.a.createElement(T.n,{label:"Email",type:"email",name:"email",outline:!0,value:this.state.email,onChange:this.changeHandler,size:"lg"}),o.a.createElement("div",null,o.a.createElement("div",null,o.a.createElement("p",{className:"lead"},"Connect your work"),o.a.createElement("small",null,"You can connect multiple accounts - even from the same platform.")),o.a.createElement(T.D,{placement:"bottom"},o.a.createElement(T.d,{floating:!0,color:"orange",className:"mx-1",onClick:this.connectGitLab,disabled:!this.state.AuthGitLabButton},o.a.createElement(T.m,{fab:!0,icon:"gitlab"})),o.a.createElement("div",null,"Link GitLab account")),o.a.createElement(T.D,{placement:"bottom"},o.a.createElement(T.d,{floating:!0,social:"git",className:"mx-1",onClick:this.connectGitHub,disabled:!this.state.oAuthGitHubButton},o.a.createElement(T.m,{fab:!0,icon:"github"})),o.a.createElement("div",null,"Link GitHub account")),o.a.createElement(T.D,{placement:"bottom"},o.a.createElement(T.d,{floating:!0,social:"blue",className:"mx-1",disabled:!0},o.a.createElement(T.m,{fab:!0,icon:"bitbucket"})),o.a.createElement("div",null,"Link Bitbucket account"))),o.a.createElement("div",null,o.a.createElement(T.o,null,this.state.sourceList.map(function(t,n){return o.a.createElement(T.p,{className:"list-item-"+t.source,key:n},o.a.createElement("div",null,o.a.createElement(T.m,{fab:!0,icon:t.source,className:"company-icon"}),t.username,o.a.createElement(T.x,{placement:"right",domElement:!0,clickable:!0,popover:!0,tag:"span",id:"popper1"},o.a.createElement("span",null,o.a.createElement(T.m,{icon:"check",className:"text-success ml-2 cursor-pointer"})),o.a.createElement("div",null,o.a.createElement(T.z,null,"Verified"),o.a.createElement(T.y,null,o.a.createElement(T.A,{className:"justify-content-center align-items-center m-0"},o.a.createElement(T.i,{size:"auto",className:"p-0 text-success"},o.a.createElement(T.m,{icon:"award",size:"3x"})),o.a.createElement(T.i,{className:"p-0 pl-3"},"This source has been ",o.a.createElement("strong",{className:"text-success"},"verified")," by logging into it.")))))),o.a.createElement(T.m,{icon:"times",className:"close-icon",onClick:function(){return e.removeSource(t.id)}}))}))),this.state.sourceList.length>0&&o.a.createElement("div",{className:"pt-4"},o.a.createElement("p",{className:"lead"},"Choose your username"),this.state.usernames.map(function(t,n){return o.a.createElement(T.n,{key:n,onClick:function(n){return e.handleUserNamePick(t)},checked:e.state.username===t,label:t,type:"radio",id:"radio"+n})})),o.a.createElement(T.n,{label:"Password",type:"password",name:"password",outline:!0,value:this.state.password,onChange:this.changeHandler,size:"lg"}),o.a.createElement(T.n,{label:"Repeat password",type:"password",name:"password2",outline:!0,value:this.state.password2,onChange:this.changeHandler,size:"lg"}),o.a.createElement(T.d,{color:"success",className:"w-100 py-3 font-weight-bold mx-0",onClick:this.handleSubmit},"Sign up for SNEK")),o.a.createElement(T.g,null))}}]),t}(o.a.Component),Lt=St(Object(Tt.a)(It,{name:"register"}))(kt);function Rt(){var e=Object(O.a)(["\n    mutation tokenAuth($username: String!, $password: String!){\n        tokenAuth(username:$username,password:$password){\n            token\n        }\n    }\n"]);return Rt=function(){return e},e}var Ct=Object(Se.a)(Rt()),At=function(e){function t(){var e,n;Object(g.a)(this,t);for(var a=arguments.length,r=new Array(a),i=0;i<a;i++)r[i]=arguments[i];return(n=Object(b.a)(this,(e=Object(v.a)(t)).call.apply(e,[this].concat(r)))).state={username:"",password:""},n.changeHandler=function(e){n.setState(Object(p.a)({},e.target.name,e.target.value))},n.handleSubmit=function(){n.props.login({variables:{username:n.state.username,password:Object($.sha256)(n.state.password)}}).then(function(e){var t=e.data;t.tokenAuth&&t.tokenAuth.token&&(n.props.loginHandler(t.tokenAuth.token),n.notify("success"," Successfull login!"))}).catch(function(e){n.notify("error",e.message.split(":")[1])})},n.notify=function(e,t){"success"===e&&T.F.success(o.a.createElement("div",null,o.a.createElement(T.m,{icon:"lock-open",className:"text ml-2 cursor-pointer"}),t)),"error"===e&&T.F.error(o.a.createElement("div",null,o.a.createElement(T.m,{icon:"lock",className:"text ml-2 cursor-pointer"}),t)),"warn"===e&&T.F.warn(o.a.createElement("div",null,o.a.createElement(T.m,{icon:"exclamation-triangle",className:"text ml-2 cursor-pointer"}),t))},n}return Object(N.a)(t,e),Object(E.a)(t,[{key:"render",value:function(){return o.a.createElement(T.e,{id:"login",className:"text-dark"},o.a.createElement(T.E,{hideProgressBar:!0,newestOnTop:!0,autoClose:5e3}),o.a.createElement(T.f,null,o.a.createElement("h2",null,"Sign in"),o.a.createElement(T.n,{label:"Username",type:"text",name:"username",outline:!0,value:this.state.username,onChange:this.changeHandler,size:"lg"}),o.a.createElement(T.n,{label:"Password",type:"password",name:"password",outline:!0,value:this.state.password,onChange:this.changeHandler,size:"lg"}),o.a.createElement(T.d,{color:"success",className:"w-100 py-3 font-weight-bold mx-0",onClick:this.handleSubmit},"Sign in")))}}]),t}(o.a.Component),xt=St(Object(Tt.a)(Ct,{name:"login"}))(Object(Tt.b)(At)),jt=(n(530),["engineers","programmers","developers","entrepreneurs","students","teachers","sneks"]),Ut=function(e){function t(e){var n;return Object(g.a)(this,t),(n=Object(b.a)(this,Object(v.a)(t).call(this,e))).logMeIn=function(e){localStorage.setItem("jwt_token",e),n.props.login(e)},n}return Object(N.a)(t,e),Object(E.a)(t,[{key:"render",value:function(){var e=this.props.globalStore;return e.data.logged?o.a.createElement(D.a,{to:"/me"}):e.data.loaded?o.a.createElement("div",{id:"landing",className:"py-5"},o.a.createElement(T.k,null,o.a.createElement(T.A,{className:""},o.a.createElement(T.i,{md:"6",className:"pt-5"},o.a.createElement("h1",{className:"mt-5"},"Built for ",o.a.createElement(H,{scope:jt}))),o.a.createElement(T.i,{md:"6"},e.data.pageLogin?o.a.createElement(xt,{token:e.data.token,loginHandler:this.logMeIn}):o.a.createElement(Lt,{token:e.data.token}))))):o.a.createElement("p",null,"Loading...")}}]),t}(o.a.Component),_t=function(e){function t(){var e,n;Object(g.a)(this,t);for(var a=arguments.length,r=new Array(a),i=0;i<a;i++)r[i]=arguments[i];return(n=Object(b.a)(this,(e=Object(v.a)(t)).call.apply(e,[this].concat(r)))).state={username:"",server:""},n.changeHandler=function(e){n.setState(Object(p.a)({},e.target.name,e.target.value))},n.handleSubmit=function(){""!==n.state.username?""!==n.state.server?(n.state.username=n.state.username.replace(/\./g,"__"),n.state.server=n.state.server.replace(/\./g,"__"),window.open("https://snek.at/redirect?server=".concat(n.state.server,"&username=").concat(n.state.username),"_self")):n.notify("warn","Enter a server!"):n.notify("warn","Enter a username!")},n.notify=function(e,t){"success"===e&&T.F.success(o.a.createElement("div",null,o.a.createElement(T.m,{icon:"lock-open",className:"text ml-2 cursor-pointer"}),t)),"error"===e&&T.F.error(o.a.createElement("div",null,o.a.createElement(T.m,{icon:"lock",className:"text ml-2 cursor-pointer"}),t)),"warn"===e&&T.F.warn(o.a.createElement("div",null,o.a.createElement(T.m,{icon:"exclamation-triangle",className:"text ml-2 cursor-pointer"}),t))},n}return Object(N.a)(t,e),Object(E.a)(t,[{key:"render",value:function(){return o.a.createElement(T.e,{id:"gitlab",className:"text-dark"},o.a.createElement(T.E,{hideProgressBar:!0,newestOnTop:!0,autoClose:5e3}),o.a.createElement(T.f,null,o.a.createElement("h2",null,"GitLab"),o.a.createElement(T.n,{label:"Username",type:"text",name:"username",outline:!0,size:"lg",value:this.state.username,onChange:this.changeHandler}),o.a.createElement(T.n,{label:"Server",type:"text",name:"server",outline:!0,size:"lg",value:this.state.server,onChange:this.changeHandler}),o.a.createElement(T.d,{color:"success",className:"w-100 py-3 font-weight-bold mx-0",onClick:this.handleSubmit},"Sign in")))}}]),t}(o.a.Component),Dt=function(e){function t(){return Object(g.a)(this,t),Object(b.a)(this,Object(v.a)(t).apply(this,arguments))}return Object(N.a)(t,e),Object(E.a)(t,[{key:"render",value:function(){var e=this;return o.a.createElement(D.d,null,o.a.createElement(D.b,{exact:!0,path:"/",component:function(t){return o.a.createElement(Ut,Object.assign({globalStore:e.props,login:e.props.login},t))}}),o.a.createElement(D.b,{exact:!0,path:"/settings",component:W}),o.a.createElement(D.b,{exact:!0,path:"/me",component:function(t){return o.a.createElement(q,Object.assign({globalStore:e.props},t))}}),o.a.createElement(D.b,{exact:!0,path:"/redirect",component:V}),o.a.createElement(D.b,{exact:!0,path:"/gitlab",component:_t}),o.a.createElement(D.b,{exact:!0,path:"/about",component:function(){return window.location="https://www.aichner-christian.com/about"}}),o.a.createElement(D.b,{render:function(){return o.a.createElement("h1",null,"Not Found")}}))}}]),t}(o.a.Component);function Ft(){var e=Object(O.a)(['\n    mutation tokenAuth{\n        tokenAuth(username:"cisco",password:"ciscocisco"){\n            token\n        }\n    }\n']);return Ft=function(){return e},e}function Mt(){var e=Object(O.a)(["\n  mutation refresh($token: String!) {\n    refreshToken(token: $token) {\n      payload\n      token\n    }\n  }\n"]);return Mt=function(){return e},e}function Yt(){var e=Object(O.a)(["\n  query login($token: String!){\n  user: me(token: $token){\n      username\n      registrationData\n    }\n  }\n"]);return Yt=function(){return e},e}function Pt(){var e=Object(O.a)(["\n  mutation verify($token: String!) {\n      verifyToken(token: $token) {\n      payload\n      }\n  }\n"]);return Pt=function(){return e},e}var zt=Object(Se.a)(Pt()),Ht=Object(Se.a)(Yt()),Bt=Object(Se.a)(Mt()),Vt=Object(Se.a)(Ft()),Gt=function(e){function t(){var e,n;Object(g.a)(this,t);for(var a=arguments.length,r=new Array(a),o=0;o<a;o++)r[o]=arguments[o];return(n=Object(b.a)(this,(e=Object(v.a)(t)).call.apply(e,[this].concat(r)))).state={contrib:null,contribCalendar:null,contribTypes:null,user:null,languages:null,repos:null,token:"",loaded:!1,logged:!1},n.componentDidMount=function(){if(n.setState({contrib:null,contribCalendar:null,contribTypes:null,user:null,languages:null,repos:null,pageLogin:!1}),null!==localStorage.getItem("jwt_snek"))try{n._verifyToken(),setInterval(Object(h.a)(f.a.mark(function e(){return f.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:n._verifyToken();case 1:case"end":return e.stop()}},e)})),24e4)}catch(e){}else n._loginUser()},n._verifyToken=function(){n.props.verify({variables:{token:localStorage.getItem("jwt_snek")}}).then(function(e){var t=e.data;void 0!==t&&null!==t.verifyToken&&n._isLogged(t.verifyToken.payload.exp,t.verifyToken.payload.origIat,localStorage.getItem("jwt_snek"))}).catch(function(e){})},n._loginUser=function(){n.props.login().then(function(e){var t=e.data;void 0!==t&&n._setLogged(t.tokenAuth.token)}).catch(function(e){})},n._setLogged=function(e){n.setState({token:e,loaded:!0},function(){return localStorage.setItem("jwt_snek",e)})},n._isLogged=function(e,t,a){~~(Date.now()/1e3)>e?n._refeshToken(a):n._setLogged(a)},n._refeshToken=function(e){n.props.refresh({variables:{token:e}}).then(function(e){var t=e.data;void 0!==t&&localStorage.setItem("jwt_snek",t.refreshToken.token)}).catch(function(e){})},n.handleChangeState=function(e,t){n.setState(Object(p.a)({},e,t))},n.handleLogin=function(){var e=Object(h.a)(f.a.mark(function e(t){return f.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:n.props.client.query({query:Ht,variables:{token:localStorage.getItem("jwt_snek")}}).then(function(e){var t=e.data;if(t){var a=JSON.parse(t.user.registrationData),r=a.platform_data.replace(/'/g,'"'),o=JSON.parse(r),i=a.sources.replace(/'/g,'"'),s=JSON.parse(i);n.setState({logged:!0,contrib:o.contrib,contribCalendar:o.contribCalendar,contribTypes:o.contribTypes,user:o.user,orgs:o.orgs,languages:o.languages,repos:o.repos}),console.log(n.state),ct(s).then(Object(h.a)(f.a.mark(function e(){return f.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:ft(),ht(),mt();case 3:case"end":return e.stop()}},e)}))).then(Object(h.a)(f.a.mark(function e(){return f.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:n.setState({logged:!0,contrib:ht(),contribCalendar:ft(),contribTypes:gt(),user:ut(),orgs:pt(),languages:dt(),repos:mt()});case 1:case"end":return e.stop()}},e)})))}}).catch(function(e){});case 1:case"end":return e.stop()}},e)}));return function(t){return e.apply(this,arguments)}}(),n}return Object(N.a)(t,e),Object(E.a)(t,[{key:"render",value:function(){return o.a.createElement(y.a,null,o.a.createElement("div",{className:"flyout"},o.a.createElement(M,{changeState:this.handleChangeState,data:this.state}),o.a.createElement("main",null,o.a.createElement(Dt,{data:this.state,changeState:this.handleChangeState,login:this.handleLogin})),o.a.createElement(Y,null)))}}]),t}(o.a.Component),Wt=St(Object(Tt.a)(zt,{name:"verify"}),Object(Tt.a)(Bt,{name:"refresh"}),Object(Tt.a)(Vt,{name:"login"}))(Object(Tt.b)(Gt)),Kt=Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));function Jt(e){navigator.serviceWorker.register(e).then(function(e){e.onupdatefound=function(){var t=e.installing;t.onstatechange=function(){"installed"===t.state&&navigator.serviceWorker.controller}}}).catch(function(e){})}var Xt=Object(l.b)({uri:"https://engine.snek.at/api/graphiql"}),qt=new c.a({link:Xt,cache:new u.a});s.a.render(o.a.createElement(m.b,{client:qt},o.a.createElement(Wt,null)),document.getElementById("root")),function(){if("serviceWorker"in navigator){if(new URL(".",window.location).origin!==window.location.origin)return;window.addEventListener("load",function(){var e="".concat(".","/service-worker.js");Kt?function(e){fetch(e).then(function(t){404===t.status||-1===t.headers.get("content-type").indexOf("javascript")?navigator.serviceWorker.ready.then(function(e){e.unregister().then(function(){window.location.reload()})}):Jt(e)}).catch(function(){})}(e):Jt(e)})}}()}},[[240,1,2]]]);
//# sourceMappingURL=main.5a4409dc.chunk.js.map